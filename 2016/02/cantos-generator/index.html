<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>A Programmatic Generator for Pound’s Cantos
</title><link href="/assets/css/spectre.min.css" rel="stylesheet"><link href="//fonts.googleapis.com/css?family=Montserrat|Raleway" rel="stylesheet"><link href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css" rel="stylesheet"><link href="/images/favicon.svg" type="image/svg+xml" rel="icon" sizes="any"><style type="text/css">

@media screen and (min-width: 1200px)
{
html
{
  font-size : 23px;
}

}
@media screen and (min-width: 992px)
{
html
{
  font-size : 24px;
}

}
@media screen and (min-width: 768px)
{
html
{
  font-size : 25px;
}

}
@media screen and (min-width: 576px)
{
html
{
  font-size : 27px;
}

}
body
{
  font-family : "Raleway", sans-serif;
}

body.has-docked-nav #main-header
{
  width    : 100%;
  opacity  : 0.94999;
  z-index  : 2;
  position : fixed;
}

#headerWrapper
{
  background-color : #ffffff;
  border-top       : solid 2px #494e8e;
  border-bottom    : solid 2px #494e8e;
}

#headerWrapper header
{
  padding-top    : 0;
  padding-bottom : 0;
  min-height     : 4em;
  margin         : auto auto auto auto;
  max-width      : 65em;
}

#headerWrapper header .nav
{
  flex-direction : row;
}

#headerWrapper header .nav li
{
  margin-top : 0;
}

.container
{
  max-width : 55em;
  padding   : 3em 3em 3em 3em;
}

.header
{
  margin-bottom : 2em;
}

li.pages
{
  list-style-type : none;
  margin-top      : 1em;
}

h1,
h2,
h3,
h4
{
  margin-top : 1em;
}

b
{
  font-size : 1.19999em;
}

main
{
  font-family : "Raleway", sans-serif;
}

main li
{
  list-style-position : outside;
}

figure
{
  text-align : center;
}

figure figcaption
{
  text-align : center;
}

figure img
{
  max-width : 80%;
}

span.update p
{
  display : inline;
}

.chip
{
  margin : 0.1rem 0.29999rem 0.1rem 0.29999rem;
}

footer
{
  background-color : #494e8e;
  color            : #fafafa;
}

footer a
{
  color : #ddddec;
}

footer a.icon img
{
  width : 3em;
}

footer .column
{
  display         : flex;
  justify-content : center;
  align-content   : center;
}

footer p
{
  margin-bottom : 0;
}

footer .icons
{
  color      : #fafafa;
  font-size  : 2em;
  display    : flex;
  align-self : center;
}

footer .icons svg:hover
{
  opacity : 0.8;
}

@media screen and (min-width: 576px)
{
footer .icons
{
  flex-direction : column;
}

}
@media screen and (min-width: 992px)
{
footer .icons
{
  flex-direction : row;
}

}
section#greeting
{
  margin-top    : 4em;
  margin-bottom : 2em;
  font-size     : 2em;
}

section#greeting .icons
{
  display         : flex;
  justify-content : space-between;
}

section#greeting .icons span
{
  font-size     : 4em;
  font-weight   : 600;
  padding-left  : 5%;
  padding-right : 5%;
}


section#postList li.post
{
  margin-top      : 5em;
  list-style-type : none;
}

section#postList .postTitle
{
  font-size : 2em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style></head><body><div id="headerWrapper"><header class="navbar"><section class="navbar-section"><a href="/" class="navbar-brand">Jonathan Reeve: <span>Computational Literary Analysis</span></a></section><section class="navbar-section"><ul class="nav"><li class="nav-item"><a href="/">posts</a></li><li class="nav-item"><a href="/cv.html">cv</a></li><li class="nav-item"><a href="/tags/">tags</a></li><li class="nav-item"><a href="/feed.xml">feed</a></li></ul></section></header></div><div class="container"><h1>A Programmatic Generator for Pound’s Cantos
</h1><p>Posted 2016-02-03</p><article><h2 id="or-computational-poetic-generation-as-literary-analysis">Or, Computational Poetic Generation as Literary Analysis</h2>
<p>Note: this project may also be found <a href="http://jonreeve.com/projects/cantos-generator/">here, in its original format as an iPython notebook</a>.</p>
<blockquote>
<p>“In so far as it represented man’s harnessing of energy through craft, the machine became the most characteristic emblem of the Vorticist movement, more significant … than the vortex itself.” (Bush 36)</p>
</blockquote>
<p>Ezra Pound’s <em>Cantos</em>, whether understood as vorticist, imagist, ideogrammatic, or otherwise, is a poem that is the product of those schools, modes, and procedures. Since the techniques of the Cantos, like those of a cubist painting, are often foregrounded, critical works have been able to postulate about their composition in great detail, in some cases pinpointing the exact source materials for Pound’s collages and translations. With the exception of a few other highly allusory works—“The Wasteland,” for instance—few other modern poems are as richly and thoroughly annotated. One might even venture that there is almost enough metatextual data in the many handbooks to the <em>Cantos</em>—William Cookson’s, Roland’s John’s, George Kerns’s, or Carroll Terrell’s, just to name a few—to reconstruct the poem itself. Given the source materials, composition techniques, themes, meter, and style, it might just be possible to design an algorithm to combine these elements in just the right way to generate a canto. Although the generated canto is unlikely to be a work of great artistic merit, the process of translating the procedure of poetic composition into an algorithm will help us to understand its minute machinations. The following describes an experiment to attempt just that—the translation of literary criticism into a generative algorithm, which hopes to be revealing about the structure of the <em>Cantos</em>, the shape of its critical response, and the limitations of algorithmic composition.</p>
<p>Among the many analogies critics have made between the <em>Cantos</em> and the visual arts, Jacob Korg compares the poem’s techniques to those of collage. “The literary equivalent of the painter’s collage is,” he explains, “quotation—not conventional quotation, but the kind that presents itself as an interpolation, interrupting the text, and even conflicting with the writer’s purposes, as if it were an eruption of raw reality” (96). Since algorithmically generated language is still in its infancy, mostly belonging to the domain of semantically agnostic probabilistic models, the collage technique of the <em>Cantos</em>, and in particular Pound’s use of direct quotation, is what makes the epic one of the most appropriate poems to attempt to programmatically emulate. As John Childs puts it, “hardly a page of the <em>Draft of XXX Cantos</em> goes by without the insertion into the poem of a word or phrase drawn from an author other than Pound” (18). By identifying these source materials, and designing functions to extract from them and mix them in appropriate ways, we might be able to create poems similar to Pound’s.</p>
<h2 id="the-experiment">The Experiment</h2>
<p>The following is a experiment along the borders of computational and critical methodologies. The format of this investigation, an <a href="http://ipython.org/notebook.html">IPython notebook</a> containing text and code, represents an attempt to problematize the distinction between computer science and literary criticism by intentionally combining the language of both. Some might argue that this paper is already at least half obscure for its intended audience, since most literary scholars are unfamiliar with programming languages, and most coders are unfamiliar with the language of literary study. To help dissolve this linguistic barrier, I have used the Python programming language, whose idioms are closest to English, and I have explained some of the logic behind the program’s functions using interpolated or inline comments (text following the <code>#</code> symbol) wherever possible. However, a few key concepts of Python are necessary to explain here briefly, in order to explain the fundamental programmatic structures below. This table shows a few types of Python expressions, along with their explanations in English:</p>
<table>
<colgroup>
<col style="width: 74%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Python Expression</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>myVariable = "a " + "test"</code></td>
<td>This concatenates the text “a” and “test” and stores the result in a variable called <code>myVariable</code>. Now <code>myVariable</code> contains the text “a test.”</td>
</tr>
<tr class="even">
<td><code>def myFunction(x): ... return y</code></td>
<td>This defines the function <code>myFunction</code>, accepts the input X, and returns the output Y.</td>
</tr>
<tr class="odd">
<td><code>myList[0]</code></td>
<td>The brackets here indicate an index of the list. This expression returns the 0th, i.e. first, element of the list myList.</td>
</tr>
<tr class="even">
<td><code>[x/2 for x in myList]</code></td>
<td>This list comprehension defines a new list generated from an operation performed on every element of another list. This list represents half of every element X in the list <code>myList</code>.</td>
</tr>
</tbody>
</table>
<p>With these foundations and the interlinear explanations, it should be possible to read the algorithms below. Additionally, text following a pound sign (<code>#</code>) and text enclosed in triple quotes (<code>"""</code>) is typically explanatory commentary.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">In this section, we will declare the software libraries that we will</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">need for the code to follow.</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"># Most of the text analysis done below is done with the help of the</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># Natural Language Toolkit, or NLTK, a Python library for text analysis.</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co"># See http://www.nltk.org for more information.</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="im">import</span> nltk</span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co"># WordNet is a module in the NLTK that allows for easy navigation of the</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co"># Princeton WordNet, a hierarchical lexical database.</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> wordnet <span class="im">as</span> wn</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co"># Stopwords are commonly-used words like &quot;a,&quot; &quot;the,&quot; or &quot;and,&quot; and</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co"># this list of stopwords is useful for filtering them out of wordlists.</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co"># These two machine translation libraries use the Google Translate API.</span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="im">import</span> goslate</span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="co"># Regular expressions allow us to search for and select text in a</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co"># sophisticated way.</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="im">import</span> re</span>
<span id="cb1-26"><a href="#cb1-26"></a></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co"># This library allows us to smartly count things.</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-29"><a href="#cb1-29"></a></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co"># Random number generation allows us to randomly choose things.</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="im">import</span> random</span>
<span id="cb1-32"><a href="#cb1-32"></a></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="co"># This allows us to work with files located within directories</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="co"># in the filesystem.</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="im">from</span> os <span class="im">import</span> listdir</span>
<span id="cb1-36"><a href="#cb1-36"></a></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="co"># This allows us to identify punctuation.</span></span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="im">import</span> string</span>
<span id="cb1-39"><a href="#cb1-39"></a></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co"># Pandas is a sophisticated data science library, that allows for</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="co"># data transformation and visualization.</span></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-43"><a href="#cb1-43"></a></span>
<span id="cb1-44"><a href="#cb1-44"></a><span class="co"># This turns on the option to show data visualizations in this notebook,</span></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="co"># and not in separate window.</span></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-47"><a href="#cb1-47"></a></span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="co"># This is a library for data visualization.</span></span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-50"><a href="#cb1-50"></a></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="co"># This sets the &quot;ggplot&quot; style for visualizations.</span></span>
<span id="cb1-52"><a href="#cb1-52"></a>plt.style.use(<span class="st">&#39;ggplot&#39;</span>)</span>
<span id="cb1-53"><a href="#cb1-53"></a></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="co"># This library allows for text wrapping (e.g. line breaks).</span></span>
<span id="cb1-55"><a href="#cb1-55"></a><span class="im">import</span> textwrap</span></code></pre></div>
<p>In order to generate cantos, we’ll first need to study their form. We’ll need to determine the length of a canto, its numbers of stanzas, and its indentation fingerprint. I’ve prepared a markdown-formatted text file, <code>cantosI-X.md</code> below, which contains the text of Canto I through Canto X from <em>A Draft of XXX Cantos</em>, so that the text might be programmatically analyzed. This first class, <code>CantosFile</code>, reads this text, breaks it up by header, and stores it in memory.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">class</span> CantosFile():</span>
<span id="cb2-2"><a href="#cb2-2"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">    Deals with the file containing transcriptions of the original</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">    Cantos.</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="co"># Open the text file and read its contents.</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    cantos <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;text/cantosI-X.md&#39;</span>).read()</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co"># Split the file by header marker (&quot;#&quot;), and take off the first part,</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="co"># which is the title, and is not useful for our analysis.</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    cantosList <span class="op">=</span> cantos.split(<span class="st">&#39;#&#39;</span>)[<span class="dv">1</span>:]</span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="co"># Count the number of cantos in this file by counting these text</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="co"># segments.</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>    numCantos <span class="op">=</span> <span class="bu">len</span>(cantosList)</span></code></pre></div>
<p>Now that the file has been read into memory, we will study each canto individually with the <code>CantoReader</code> class below, which will read an individual canto and return information about it, such as the number of lines, number of stanzas, proportions of each, and information about the canto’s indentation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">class</span> CantoReader(CantosFile):</span>
<span id="cb3-2"><a href="#cb3-2"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">    A class to read individual cantos and return statistics about them</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">    that will be used by the CantoWriter class. This class accepts the</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">    canto number as an argument, so that CantoReader(1) returns a</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">    CantoReader object for Canto I.</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, cantoNumber):</span>
<span id="cb3-9"><a href="#cb3-9"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">        When this class is instanted, it will automatically store a copy</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">        of the canto number (e.g. 4 for Canto IV), and make a copy of that</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">        canto&#39;s text for analysis.</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>        <span class="co"># Store a copy of the canto number.</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>        <span class="va">self</span>.cantoNumber <span class="op">=</span> cantoNumber</span>
<span id="cb3-16"><a href="#cb3-16"></a></span>
<span id="cb3-17"><a href="#cb3-17"></a>        <span class="co"># Adjust this number, since Python starts counting at zero,</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>        <span class="co"># but cantos are numbered starting with 1.</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>        cantoNumber <span class="op">=</span> cantoNumber<span class="op">-</span><span class="dv">1</span></span>
<span id="cb3-20"><a href="#cb3-20"></a></span>
<span id="cb3-21"><a href="#cb3-21"></a>        <span class="co"># Get the full text of the canto.</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>        <span class="va">self</span>.allText <span class="op">=</span> <span class="va">self</span>.cantosList[cantoNumber]</span>
<span id="cb3-23"><a href="#cb3-23"></a></span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="at">@property</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>    <span class="kw">def</span> lines(<span class="va">self</span>):</span>
<span id="cb3-26"><a href="#cb3-26"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="co">        Break up the canto into lines, and clean up any unnecessary</span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">        lines.</span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-30"><a href="#cb3-30"></a>        <span class="co"># First, split the canto into lines.</span></span>
<span id="cb3-31"><a href="#cb3-31"></a>        lines <span class="op">=</span> <span class="va">self</span>.allText.split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb3-32"><a href="#cb3-32"></a></span>
<span id="cb3-33"><a href="#cb3-33"></a>        <span class="co"># Next, remove the header.</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>        noheader <span class="op">=</span> lines[<span class="dv">2</span>:]</span>
<span id="cb3-35"><a href="#cb3-35"></a></span>
<span id="cb3-36"><a href="#cb3-36"></a>        <span class="co"># So long as there is blank whitespace at the end of the</span></span>
<span id="cb3-37"><a href="#cb3-37"></a>        <span class="co"># canto, keep removing it, so that we&#39;re not counting extranneous</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>        <span class="co"># lines.</span></span>
<span id="cb3-39"><a href="#cb3-39"></a>        <span class="cf">while</span> noheader[<span class="op">-</span><span class="dv">1</span>].isspace() <span class="kw">or</span> <span class="bu">len</span>(noheader[<span class="op">-</span><span class="dv">1</span>]) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-40"><a href="#cb3-40"></a>            noheader.pop()</span>
<span id="cb3-41"><a href="#cb3-41"></a>        <span class="cf">return</span> noheader <span class="co"># Return the cleaned version.</span></span>
<span id="cb3-42"><a href="#cb3-42"></a></span>
<span id="cb3-43"><a href="#cb3-43"></a>    <span class="at">@property</span></span>
<span id="cb3-44"><a href="#cb3-44"></a>    <span class="kw">def</span> text(<span class="va">self</span>):</span>
<span id="cb3-45"><a href="#cb3-45"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">        Get the text of the canto, cleaned by the `lines` function above,</span></span>
<span id="cb3-47"><a href="#cb3-47"></a><span class="co">        but join it together, so that it&#39;s not broken into lines.</span></span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-49"><a href="#cb3-49"></a>        <span class="cf">return</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>.join(<span class="va">self</span>.lines)</span>
<span id="cb3-50"><a href="#cb3-50"></a></span>
<span id="cb3-51"><a href="#cb3-51"></a>    <span class="at">@property</span></span>
<span id="cb3-52"><a href="#cb3-52"></a>    <span class="kw">def</span> stanzas(<span class="va">self</span>):</span>
<span id="cb3-53"><a href="#cb3-53"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-54"><a href="#cb3-54"></a><span class="co">        Break the canto into stanzas by finding double line breaks</span></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co">        (`</span><span class="ch">\n\n</span><span class="co">`) and dividing the text along those lines.</span></span>
<span id="cb3-56"><a href="#cb3-56"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-57"><a href="#cb3-57"></a>        <span class="cf">return</span> nltk.tokenize.regexp_tokenize(<span class="va">self</span>.text, <span class="st">&#39;</span><span class="ch">\n\n</span><span class="st">&#39;</span>, gaps<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-58"><a href="#cb3-58"></a></span>
<span id="cb3-59"><a href="#cb3-59"></a>    <span class="at">@property</span></span>
<span id="cb3-60"><a href="#cb3-60"></a>    <span class="kw">def</span> numLines(<span class="va">self</span>):</span>
<span id="cb3-61"><a href="#cb3-61"></a>        <span class="co">&quot;&quot;&quot; Count the number of lines in the canto. &quot;&quot;&quot;</span></span>
<span id="cb3-62"><a href="#cb3-62"></a>        <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.lines)</span>
<span id="cb3-63"><a href="#cb3-63"></a></span>
<span id="cb3-64"><a href="#cb3-64"></a>    <span class="at">@property</span></span>
<span id="cb3-65"><a href="#cb3-65"></a>    <span class="kw">def</span> numStanzas(<span class="va">self</span>):</span>
<span id="cb3-66"><a href="#cb3-66"></a>        <span class="co">&quot;&quot;&quot;Count the number of stanzas in a canto.&quot;&quot;&quot;</span></span>
<span id="cb3-67"><a href="#cb3-67"></a>        <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.stanzas)</span>
<span id="cb3-68"><a href="#cb3-68"></a></span>
<span id="cb3-69"><a href="#cb3-69"></a>    <span class="at">@property</span></span>
<span id="cb3-70"><a href="#cb3-70"></a>    <span class="kw">def</span> stanzaLengths(<span class="va">self</span>):</span>
<span id="cb3-71"><a href="#cb3-71"></a>        <span class="co">&quot;&quot;&quot;Determine the length of each stanza in the canto, in lines.&quot;&quot;&quot;</span></span>
<span id="cb3-72"><a href="#cb3-72"></a>        <span class="cf">return</span> [<span class="bu">len</span>(stanza.split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)) <span class="cf">for</span> stanza <span class="kw">in</span> <span class="va">self</span>.stanzas]</span>
<span id="cb3-73"><a href="#cb3-73"></a></span>
<span id="cb3-74"><a href="#cb3-74"></a>    <span class="at">@property</span></span>
<span id="cb3-75"><a href="#cb3-75"></a>    <span class="kw">def</span> stanzaPercentages(<span class="va">self</span>):</span>
<span id="cb3-76"><a href="#cb3-76"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-77"><a href="#cb3-77"></a><span class="co">        Determine the proportion of the total canto&#39;s lines</span></span>
<span id="cb3-78"><a href="#cb3-78"></a><span class="co">        represented by its stanzas. This returns a list like</span></span>
<span id="cb3-79"><a href="#cb3-79"></a><span class="co">        `[0.7402597402597403, 0.24675324675324675]` (for Canto I)</span></span>
<span id="cb3-80"><a href="#cb3-80"></a><span class="co">        that means that the first stanza takes up about 74% of the total</span></span>
<span id="cb3-81"><a href="#cb3-81"></a><span class="co">        canto, and the second stanza takes up about 25%.</span></span>
<span id="cb3-82"><a href="#cb3-82"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-83"><a href="#cb3-83"></a>        <span class="cf">return</span> [stanzaLength <span class="op">/</span> <span class="va">self</span>.numLines <span class="cf">for</span> stanzaLength <span class="kw">in</span> <span class="va">self</span>.stanzaLengths]</span>
<span id="cb3-84"><a href="#cb3-84"></a></span>
<span id="cb3-85"><a href="#cb3-85"></a>    <span class="at">@property</span></span>
<span id="cb3-86"><a href="#cb3-86"></a>    <span class="kw">def</span> indentation(<span class="va">self</span>):</span>
<span id="cb3-87"><a href="#cb3-87"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-88"><a href="#cb3-88"></a><span class="co">        Get a list of indentation levels for each line in the canto.</span></span>
<span id="cb3-89"><a href="#cb3-89"></a><span class="co">        This returns a list like `[0, 0, 8]` if the first line is flush</span></span>
<span id="cb3-90"><a href="#cb3-90"></a><span class="co">        left, the second line is flush left, and the third line is</span></span>
<span id="cb3-91"><a href="#cb3-91"></a><span class="co">        indented by eight spaces.</span></span>
<span id="cb3-92"><a href="#cb3-92"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-93"><a href="#cb3-93"></a>        results <span class="op">=</span> [] <span class="co"># Initialize an empty list to contain our results.</span></span>
<span id="cb3-94"><a href="#cb3-94"></a>        <span class="cf">for</span> line <span class="kw">in</span> <span class="va">self</span>.lines: <span class="co"># Iterate through each line,</span></span>
<span id="cb3-95"><a href="#cb3-95"></a>            match <span class="op">=</span> re.search(<span class="st">&#39;\S&#39;</span>, line) <span class="co"># looking for whitespace,</span></span>
<span id="cb3-96"><a href="#cb3-96"></a>            <span class="cf">if</span> match <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>: <span class="co"># and if whitespace is found,</span></span>
<span id="cb3-97"><a href="#cb3-97"></a>                <span class="co"># append the location of the first non-whitespace character</span></span>
<span id="cb3-98"><a href="#cb3-98"></a>                <span class="co"># to the list.</span></span>
<span id="cb3-99"><a href="#cb3-99"></a>                results.append(match.start())</span>
<span id="cb3-100"><a href="#cb3-100"></a>            <span class="cf">else</span>:</span>
<span id="cb3-101"><a href="#cb3-101"></a>                <span class="co"># otherwise, the line is flush left, so its indentation</span></span>
<span id="cb3-102"><a href="#cb3-102"></a>                <span class="co"># level is zero. Append zero.</span></span>
<span id="cb3-103"><a href="#cb3-103"></a>                results.append(<span class="dv">0</span>)</span>
<span id="cb3-104"><a href="#cb3-104"></a>        <span class="cf">return</span> results</span>
<span id="cb3-105"><a href="#cb3-105"></a></span>
<span id="cb3-106"><a href="#cb3-106"></a>    <span class="at">@property</span></span>
<span id="cb3-107"><a href="#cb3-107"></a>    <span class="kw">def</span> indentationStats(<span class="va">self</span>):</span>
<span id="cb3-108"><a href="#cb3-108"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-109"><a href="#cb3-109"></a><span class="co">        Returns a dictionary of indentation levels with their corresponding counts and percentages.</span></span>
<span id="cb3-110"><a href="#cb3-110"></a><span class="co">        For Canto I, this is {8: [3, 0.0384...]}, since there are three lines indented 8 spaces,</span></span>
<span id="cb3-111"><a href="#cb3-111"></a><span class="co">        which make up around 3-4% of the total poem.</span></span>
<span id="cb3-112"><a href="#cb3-112"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-113"><a href="#cb3-113"></a>        stats <span class="op">=</span> Counter(<span class="va">self</span>.indentation) <span class="co"># Count the indented lines.</span></span>
<span id="cb3-114"><a href="#cb3-114"></a>        statsDict <span class="op">=</span> {} <span class="co"># Initialize a new &quot;dictionary,&quot; or associative array.</span></span>
<span id="cb3-115"><a href="#cb3-115"></a>        <span class="co"># Iterate through each indentation level in the indentation statistics,</span></span>
<span id="cb3-116"><a href="#cb3-116"></a>        <span class="cf">for</span> indentLevel <span class="kw">in</span> stats:</span>
<span id="cb3-117"><a href="#cb3-117"></a>            <span class="cf">if</span> indentLevel <span class="op">&gt;</span> <span class="dv">0</span>: <span class="co"># ignoring lines that are flush-left, and</span></span>
<span id="cb3-118"><a href="#cb3-118"></a>                <span class="co"># divide by the total lines of the poem.</span></span>
<span id="cb3-119"><a href="#cb3-119"></a>                statsDict[indentLevel] <span class="op">=</span> [stats[indentLevel], stats[indentLevel] <span class="op">/</span> <span class="va">self</span>.numLines]</span>
<span id="cb3-120"><a href="#cb3-120"></a>        <span class="cf">return</span> statsDict</span>
<span id="cb3-121"><a href="#cb3-121"></a></span>
<span id="cb3-122"><a href="#cb3-122"></a>    <span class="kw">def</span> getInfo(<span class="va">self</span>):</span>
<span id="cb3-123"><a href="#cb3-123"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-124"><a href="#cb3-124"></a><span class="co">        Gets all information about this canto, and prints it, so that it is</span></span>
<span id="cb3-125"><a href="#cb3-125"></a><span class="co">        easily human-readable.</span></span>
<span id="cb3-126"><a href="#cb3-126"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb3-127"><a href="#cb3-127"></a>        <span class="bu">print</span>(<span class="st">&#39;Canto number: &#39;</span>, <span class="va">self</span>.cantoNumber)</span>
<span id="cb3-128"><a href="#cb3-128"></a>        <span class="bu">print</span>(<span class="st">&#39;Number of lines: &#39;</span>, <span class="va">self</span>.numLines)</span>
<span id="cb3-129"><a href="#cb3-129"></a>        <span class="bu">print</span>(<span class="st">&#39;Number of stanzas: &#39;</span>, <span class="va">self</span>.numStanzas)</span>
<span id="cb3-130"><a href="#cb3-130"></a>        <span class="bu">print</span>(<span class="st">&#39;Length of stanzas: &#39;</span>, <span class="va">self</span>.stanzaLengths)</span>
<span id="cb3-131"><a href="#cb3-131"></a>        <span class="bu">print</span>(<span class="st">&#39;Stanza Percentages&#39;</span>, <span class="va">self</span>.stanzaPercentages)</span>
<span id="cb3-132"><a href="#cb3-132"></a>        <span class="bu">print</span>(<span class="st">&#39;Indentation statistics: &#39;</span>, <span class="va">self</span>.indentationStats)</span></code></pre></div>
<p>Now we’ll need a set of functions for reading multiple cantos at a time, so that we don’t have to read them each individually. The following class automates the bulk analysis of cantos, so that information about all of the cantos is easily available.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">class</span> CantosReader(CantosFile):  </span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb4-3"><a href="#cb4-3"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">        When this class is instantiated, use the `cantoReader` class to</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">        gather information about each canto. Store this in a list of</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">        canto &quot;objects,&quot; which will be a meta-list of canto statistics.</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>        <span class="va">self</span>.cantoObjects <span class="op">=</span> [CantoReader(i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="va">self</span>.numCantos<span class="op">+</span><span class="dv">1</span>)]</span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="kw">def</span> getAllInfo(<span class="va">self</span>):</span>
<span id="cb4-11"><a href="#cb4-11"></a>        <span class="co">&quot;&quot;&quot; Print statistics for all cantos in the file. &quot;&quot;&quot;</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>        <span class="co"># Iterate through the list of all cantos.</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>        <span class="cf">for</span> cantoObject <span class="kw">in</span> <span class="va">self</span>.cantoObjects:  </span>
<span id="cb4-14"><a href="#cb4-14"></a>            <span class="co"># Print the statistics for the current canto.</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>            cantoObject.getInfo()</span>
<span id="cb4-16"><a href="#cb4-16"></a>            <span class="co"># Add a little spacing to make it look nice.</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>            <span class="bu">print</span>(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb4-18"><a href="#cb4-18"></a></span>
<span id="cb4-19"><a href="#cb4-19"></a>    <span class="at">@property</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>    <span class="kw">def</span> lineLengths(<span class="va">self</span>):</span>
<span id="cb4-21"><a href="#cb4-21"></a>        <span class="co">&quot;&quot;&quot; Make a list of all line lengths for all cantos. &quot;&quot;&quot;</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>        <span class="cf">return</span> [canto.numLines <span class="cf">for</span> canto <span class="kw">in</span> <span class="va">self</span>.cantoObjects]</span>
<span id="cb4-23"><a href="#cb4-23"></a></span>
<span id="cb4-24"><a href="#cb4-24"></a>    <span class="kw">def</span> getNumStanzas(<span class="va">self</span>):</span>
<span id="cb4-25"><a href="#cb4-25"></a>        <span class="co">&quot;&quot;&quot; Make a list of all stanza counts for all cantos. &quot;&quot;&quot;</span></span>
<span id="cb4-26"><a href="#cb4-26"></a>        <span class="cf">return</span> [canto.numStanzas <span class="cf">for</span> canto <span class="kw">in</span> <span class="va">self</span>.cantoObjects]</span>
<span id="cb4-27"><a href="#cb4-27"></a></span>
<span id="cb4-28"><a href="#cb4-28"></a>    <span class="at">@property</span></span>
<span id="cb4-29"><a href="#cb4-29"></a>    <span class="kw">def</span> stanzaLengths(<span class="va">self</span>):</span>
<span id="cb4-30"><a href="#cb4-30"></a>        <span class="co">&quot;&quot;&quot; Get all the lengths of all the stanzas, grouped by canto. &quot;&quot;&quot;</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>        stanzaList <span class="op">=</span> []</span>
<span id="cb4-32"><a href="#cb4-32"></a>        <span class="cf">for</span> cantoObject <span class="kw">in</span> <span class="va">self</span>.cantoObjects:</span>
<span id="cb4-33"><a href="#cb4-33"></a>            stanzaList.append(cantoObject.stanzaLengths)</span>
<span id="cb4-34"><a href="#cb4-34"></a>        <span class="cf">return</span> stanzaList</span></code></pre></div>
<p>Now let’s use these functions to find information about cantos I-X.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>CantosReader().getAllInfo()</span></code></pre></div>
<pre><code>Canto number:  1
Number of lines:  77
Number of stanzas:  2
Length of stanzas:  [57, 19]
Stanza Percentages [0.7402597402597403, 0.24675324675324675]
Indentation statistics:  {8: [3, 0.03896103896103896]}


Canto number:  2
Number of lines:  162
Number of stanzas:  6
Length of stanzas:  [39, 62, 28, 17, 6, 5]
Stanza Percentages [0.24074074074074073, 0.38271604938271603, 0.1728395061728395, 0.10493827160493827, 0.037037037037037035, 0.030864197530864196]
Indentation statistics:  {8: [53, 0.3271604938271605], 9: [7, 0.043209876543209874], 10: [2, 0.012345679012345678]}


Canto number:  3
Number of lines:  43
Number of stanzas:  2
Length of stanzas:  [19, 23]
Stanza Percentages [0.4418604651162791, 0.5348837209302325]
Indentation statistics:  {8: [2, 0.046511627906976744]}


Canto number:  4
Number of lines:  136
Number of stanzas:  8
Length of stanzas:  [12, 44, 12, 13, 7, 12, 11, 18]
Stanza Percentages [0.08823529411764706, 0.3235294117647059, 0.08823529411764706, 0.09558823529411764, 0.051470588235294115, 0.08823529411764706, 0.08088235294117647, 0.1323529411764706]
Indentation statistics:  {8: [42, 0.3088235294117647], 10: [1, 0.007352941176470588]}


Canto number:  5
Number of lines:  130
Number of stanzas:  3
Length of stanzas:  [59, 7, 62]
Stanza Percentages [0.45384615384615384, 0.05384615384615385, 0.47692307692307695]
Indentation statistics:  {8: [19, 0.14615384615384616], 19: [1, 0.007692307692307693], 46: [1, 0.007692307692307693]}


Canto number:  6
Number of lines:  81
Number of stanzas:  4
Length of stanzas:  [36, 17, 21, 4]
Stanza Percentages [0.4444444444444444, 0.20987654320987653, 0.25925925925925924, 0.04938271604938271]
Indentation statistics:  {8: [20, 0.24691358024691357], 30: [2, 0.024691358024691357]}


Canto number:  7
Number of lines:  137
Number of stanzas:  9
Length of stanzas:  [15, 1, 2, 40, 22, 8, 12, 7, 22]
Stanza Percentages [0.10948905109489052, 0.0072992700729927005, 0.014598540145985401, 0.291970802919708, 0.16058394160583941, 0.058394160583941604, 0.08759124087591241, 0.051094890510948905, 0.16058394160583941]
Indentation statistics:  {8: [31, 0.22627737226277372]}


Canto number:  8
Number of lines:  183
Number of stanzas:  5
Length of stanzas:  [56, 21, 23, 57, 22]
Stanza Percentages [0.30601092896174864, 0.11475409836065574, 0.12568306010928962, 0.3114754098360656, 0.12021857923497267]
Indentation statistics:  {16: [1, 0.00546448087431694], 17: [1, 0.00546448087431694], 18: [2, 0.01092896174863388], 22: [1, 0.00546448087431694], 23: [5, 0.0273224043715847], 8: [17, 0.09289617486338798], 41: [1, 0.00546448087431694], 11: [1, 0.00546448087431694], 13: [4, 0.02185792349726776], 30: [3, 0.01639344262295082], 24: [2, 0.01092896174863388]}


Canto number:  9
Number of lines:  268
Number of stanzas:  15
Length of stanzas:  [45, 31, 17, 4, 42, 1, 1, 21, 14, 2, 2, 2, 2, 57, 13]
Stanza Percentages [0.16791044776119404, 0.11567164179104478, 0.06343283582089553, 0.014925373134328358, 0.15671641791044777, 0.0037313432835820895, 0.0037313432835820895, 0.07835820895522388, 0.05223880597014925, 0.007462686567164179, 0.007462686567164179, 0.007462686567164179, 0.007462686567164179, 0.2126865671641791, 0.048507462686567165]
Indentation statistics:  {8: [62, 0.23134328358208955], 34: [2, 0.007462686567164179], 20: [1, 0.0037313432835820895], 22: [1, 0.0037313432835820895], 24: [1, 0.0037313432835820895], 43: [1, 0.0037313432835820895], 28: [1, 0.0037313432835820895], 46: [1, 0.0037313432835820895], 15: [2, 0.007462686567164179]}


Canto number:  10
Number of lines:  194
Number of stanzas:  14
Length of stanzas:  [60, 27, 11, 10, 5, 3, 2, 11, 8, 4, 2, 12, 18, 8]
Stanza Percentages [0.30927835051546393, 0.13917525773195877, 0.05670103092783505, 0.05154639175257732, 0.02577319587628866, 0.015463917525773196, 0.010309278350515464, 0.05670103092783505, 0.041237113402061855, 0.020618556701030927, 0.010309278350515464, 0.061855670103092786, 0.09278350515463918, 0.041237113402061855]
Indentation statistics:  {8: [34, 0.17525773195876287], 1: [1, 0.005154639175257732], 19: [1, 0.005154639175257732], 31: [2, 0.010309278350515464], 39: [1, 0.005154639175257732]}</code></pre>
<p>Since that format is not very easy to read, it might be more helpful to visualize some of this information. First, let’s examine stanza lengths, to get an idea of how long our generated stanzas need to be, and how variable stanza lengths will be. The chart below represents Canto I - Canto V.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>df <span class="op">=</span> pd.DataFrame(CantosReader().stanzaLengths)[:<span class="dv">4</span>]</span>
<span id="cb7-2"><a href="#cb7-2"></a>df.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>), alpha<span class="op">=</span><span class="fl">0.5</span>)</span></code></pre></div>
<figure>
<img src="/images/cantos-generator/stanza-lengths.png" alt="" /><figcaption>Stanza Lengths</figcaption>
</figure>
<p>Judging from the number of stanza divisions and the variation in the lengths of the stanzas, Cantos I-IV appear to alternate between simple and complex line grouping systems. With this information, it might be best to design individual canto writer classes for each canto, rather than try to design a canto-agnostic generator.</p>
<p>Now let’s examine the total line lengths of the first ten cantos.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>df <span class="op">=</span> pd.DataFrame(CantosReader().lineLengths)</span>
<span id="cb8-2"><a href="#cb8-2"></a>df.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>), alpha<span class="op">=</span><span class="fl">0.5</span>)</span></code></pre></div>
<figure>
<img src="/images/cantos-generator/line-lengths.png" alt="" /><figcaption>Line Lengths</figcaption>
</figure>
<p>Here again, the variation is immense, further solidifying the idea that individual subclasses need to be written for each canto. However, since it’d be best not to repeat code for a particular canto, it will be useful to write a parent class that will serve as a toolbox. The following class contains “helper” functions which will be used by the canto subclasses <code>CantoI</code>, <code>CantoII</code>, and so on.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">class</span> CantoWriter:</span>
<span id="cb9-2"><a href="#cb9-2"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">    This class contains &quot;helper&quot; functions which will be used by the CantoI,</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">    CantoII, etc, subclasses. Underscores in the function names indicate</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">    when a function is designed for use by another function, and not meant</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">    to be executed directly.</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>    <span class="kw">def</span> _untokenize(<span class="va">self</span>, line):</span>
<span id="cb9-9"><a href="#cb9-9"></a>        <span class="co"># Wordnet likes to use underscores for compound words,</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>        <span class="co"># so we have to replace those.</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>        line <span class="op">=</span> [token.replace(<span class="st">&#39;_&#39;</span>, <span class="st">&#39; &#39;</span>) <span class="cf">for</span> token <span class="kw">in</span> line]</span>
<span id="cb9-12"><a href="#cb9-12"></a></span>
<span id="cb9-13"><a href="#cb9-13"></a>        <span class="co"># Join broken (tokenized) words like [&quot;do&quot;, &quot;n&#39;t&quot;].</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>        tokens <span class="op">=</span> [<span class="st">&quot; &quot;</span><span class="op">+</span>i <span class="cf">if</span> <span class="kw">not</span> i.startswith(<span class="st">&quot;&#39;&quot;</span>) <span class="kw">and</span> i <span class="kw">not</span> <span class="kw">in</span> string.punctuation <span class="cf">else</span> i <span class="cf">for</span> i <span class="kw">in</span> line]</span>
<span id="cb9-15"><a href="#cb9-15"></a></span>
<span id="cb9-16"><a href="#cb9-16"></a>        <span class="co"># Join everything else, and remove extranneous whitespace.</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>        <span class="cf">return</span> <span class="st">&quot;&quot;</span>.join(tokens).strip()</span>
<span id="cb9-18"><a href="#cb9-18"></a></span>
<span id="cb9-19"><a href="#cb9-19"></a>    <span class="kw">def</span> _translatePOS(<span class="va">self</span>, pos):</span>
<span id="cb9-20"><a href="#cb9-20"></a>        <span class="co"># POS tagging returns a certain shorthand for parts of speech.</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>        <span class="co"># Let&#39;s translate this into something WordNet can understand.</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>]<span class="op">==</span><span class="st">&#39;N&#39;</span>:</span>
<span id="cb9-23"><a href="#cb9-23"></a>            <span class="cf">return</span> wn.NOUN</span>
<span id="cb9-24"><a href="#cb9-24"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>]<span class="op">==</span><span class="st">&#39;V&#39;</span>:</span>
<span id="cb9-25"><a href="#cb9-25"></a>            <span class="cf">return</span> wn.VERB</span>
<span id="cb9-26"><a href="#cb9-26"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>]<span class="op">==</span><span class="st">&#39;J&#39;</span>:</span>
<span id="cb9-27"><a href="#cb9-27"></a>            <span class="cf">return</span> wn.ADJ</span>
<span id="cb9-28"><a href="#cb9-28"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>]<span class="op">==</span><span class="st">&#39;R&#39;</span>:</span>
<span id="cb9-29"><a href="#cb9-29"></a>            <span class="cf">return</span> wn.ADV</span>
<span id="cb9-30"><a href="#cb9-30"></a>        <span class="cf">else</span>:</span>
<span id="cb9-31"><a href="#cb9-31"></a>            <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb9-32"><a href="#cb9-32"></a></span>
<span id="cb9-33"><a href="#cb9-33"></a>    <span class="kw">def</span> _getSynonyms(<span class="va">self</span>, posword, includeHyponyms<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb9-34"><a href="#cb9-34"></a>        <span class="co"># accepts tuples of (word, POS)</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb9-36"><a href="#cb9-36"></a><span class="co">        This function gets synonyms from the Princeton WordNet, optionally</span></span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="co">        adding hyponyms, if desired. The function accepts input in the form</span></span>
<span id="cb9-38"><a href="#cb9-38"></a><span class="co">        (word, part-of-speech).</span></span>
<span id="cb9-39"><a href="#cb9-39"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb9-40"><a href="#cb9-40"></a>        <span class="co"># Get the word.</span></span>
<span id="cb9-41"><a href="#cb9-41"></a>        word <span class="op">=</span> posword[<span class="dv">0</span>]</span>
<span id="cb9-42"><a href="#cb9-42"></a></span>
<span id="cb9-43"><a href="#cb9-43"></a>        <span class="co"># Get the part-of-speech and translate it to something WordNet</span></span>
<span id="cb9-44"><a href="#cb9-44"></a>        <span class="co"># can understand.</span></span>
<span id="cb9-45"><a href="#cb9-45"></a>        pos <span class="op">=</span> <span class="va">self</span>._translatePOS(posword[<span class="dv">1</span>])</span>
<span id="cb9-46"><a href="#cb9-46"></a></span>
<span id="cb9-47"><a href="#cb9-47"></a>        <span class="co"># Make a list of stopwords,  </span></span>
<span id="cb9-48"><a href="#cb9-48"></a>        stop <span class="op">=</span> stopwords.words(<span class="st">&#39;english&#39;</span>)</span>
<span id="cb9-49"><a href="#cb9-49"></a>        <span class="cf">if</span> word <span class="kw">not</span> <span class="kw">in</span> stop: <span class="co"># and ignore them.</span></span>
<span id="cb9-50"><a href="#cb9-50"></a>            synsets <span class="op">=</span> wn.synsets(word) <span class="co"># Look up the words in WordNet.</span></span>
<span id="cb9-51"><a href="#cb9-51"></a>        <span class="cf">else</span>:</span>
<span id="cb9-52"><a href="#cb9-52"></a>            synsets <span class="op">=</span> [] <span class="co"># Otherwise, return a blank list.</span></span>
<span id="cb9-53"><a href="#cb9-53"></a>        <span class="cf">if</span> <span class="bu">len</span>(synsets) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb9-54"><a href="#cb9-54"></a>            <span class="co"># Find the word&#39;s hyponyms, flattening the list if necessary.</span></span>
<span id="cb9-55"><a href="#cb9-55"></a>            hyponyms <span class="op">=</span> <span class="bu">sum</span>([x.lemma_names() <span class="cf">for</span> x <span class="kw">in</span> synsets[<span class="dv">0</span>].hyponyms()], [])</span>
<span id="cb9-56"><a href="#cb9-56"></a>            <span class="co"># Find synonyms.</span></span>
<span id="cb9-57"><a href="#cb9-57"></a>            synonyms <span class="op">=</span> synsets[<span class="dv">0</span>].lemma_names()</span>
<span id="cb9-58"><a href="#cb9-58"></a>            synonyms <span class="op">=</span> [word] <span class="op">+</span> synonyms</span>
<span id="cb9-59"><a href="#cb9-59"></a>            <span class="cf">if</span> includeHyponyms:</span>
<span id="cb9-60"><a href="#cb9-60"></a>                <span class="cf">return</span> synonyms <span class="op">+</span> hyponyms</span>
<span id="cb9-61"><a href="#cb9-61"></a>            <span class="cf">else</span>:</span>
<span id="cb9-62"><a href="#cb9-62"></a>                <span class="cf">return</span> synonyms</span>
<span id="cb9-63"><a href="#cb9-63"></a>        <span class="cf">else</span>:</span>
<span id="cb9-64"><a href="#cb9-64"></a>            <span class="cf">return</span> [word]</span>
<span id="cb9-65"><a href="#cb9-65"></a></span>
<span id="cb9-66"><a href="#cb9-66"></a>    <span class="kw">def</span> formatLines(<span class="va">self</span>, lines, originalCantoNum):</span>
<span id="cb9-67"><a href="#cb9-67"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb9-68"><a href="#cb9-68"></a><span class="co">        Using the original canto as a model, this will break up a given</span></span>
<span id="cb9-69"><a href="#cb9-69"></a><span class="co">        set of lines into stanzas, and indent some of the lines.</span></span>
<span id="cb9-70"><a href="#cb9-70"></a><span class="co">        It gets the stanza and indentation percentages from CantoReader,</span></span>
<span id="cb9-71"><a href="#cb9-71"></a><span class="co">        and applies those percentages to the newly-generated text.</span></span>
<span id="cb9-72"><a href="#cb9-72"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb9-73"><a href="#cb9-73"></a>        <span class="co"># Read the original canto to get statistics.</span></span>
<span id="cb9-74"><a href="#cb9-74"></a>        originalCanto <span class="op">=</span> CantoReader(originalCantoNum)</span>
<span id="cb9-75"><a href="#cb9-75"></a></span>
<span id="cb9-76"><a href="#cb9-76"></a>        <span class="co"># We need to know how long the generated poem is so far.</span></span>
<span id="cb9-77"><a href="#cb9-77"></a>        numGeneratedLines <span class="op">=</span> <span class="bu">len</span>(lines)</span>
<span id="cb9-78"><a href="#cb9-78"></a></span>
<span id="cb9-79"><a href="#cb9-79"></a>        <span class="co"># Get all the stanza percentages, but ignore the last one, since</span></span>
<span id="cb9-80"><a href="#cb9-80"></a>        <span class="co"># we can infer it from the remaining percentage.</span></span>
<span id="cb9-81"><a href="#cb9-81"></a>        stanzaPercs <span class="op">=</span> originalCanto.stanzaPercentages[:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb9-82"><a href="#cb9-82"></a></span>
<span id="cb9-83"><a href="#cb9-83"></a>        <span class="co"># Iterate through every stanza, except the last.</span></span>
<span id="cb9-84"><a href="#cb9-84"></a>        <span class="cf">for</span> stanzaPerc <span class="kw">in</span> stanzaPercs:</span>
<span id="cb9-85"><a href="#cb9-85"></a>            <span class="co"># Find out where the stanza break should go, in percentages.</span></span>
<span id="cb9-86"><a href="#cb9-86"></a>            stanzaBreak <span class="op">=</span> <span class="bu">round</span>(stanzaPerc <span class="op">*</span> numGeneratedLines)</span>
<span id="cb9-87"><a href="#cb9-87"></a>            <span class="co"># Insert a blank space at the stanza break.</span></span>
<span id="cb9-88"><a href="#cb9-88"></a>            lines <span class="op">=</span> lines[:stanzaBreak] <span class="op">+</span> [<span class="st">&#39; &#39;</span>] <span class="op">+</span> lines[stanzaBreak:]</span>
<span id="cb9-89"><a href="#cb9-89"></a></span>
<span id="cb9-90"><a href="#cb9-90"></a>        <span class="co"># Now indent the newly-generated poem according to the old.</span></span>
<span id="cb9-91"><a href="#cb9-91"></a>        <span class="co"># First, get indentation statistics about the original canto.</span></span>
<span id="cb9-92"><a href="#cb9-92"></a>        stats <span class="op">=</span> originalCanto.indentationStats</span>
<span id="cb9-93"><a href="#cb9-93"></a></span>
<span id="cb9-94"><a href="#cb9-94"></a>        <span class="co"># Go through each of the indentation levels listed in its statistics.</span></span>
<span id="cb9-95"><a href="#cb9-95"></a>        <span class="cf">for</span> indentLevel <span class="kw">in</span> stats:</span>
<span id="cb9-96"><a href="#cb9-96"></a>            <span class="co"># Compute the number of lines to indent for our generated text.</span></span>
<span id="cb9-97"><a href="#cb9-97"></a>            numLinesToIndent <span class="op">=</span> <span class="bu">round</span>(numGeneratedLines <span class="op">*</span> stats[indentLevel][<span class="dv">1</span>])</span>
<span id="cb9-98"><a href="#cb9-98"></a></span>
<span id="cb9-99"><a href="#cb9-99"></a>            <span class="co"># Initialize an empty list so that we can keep track of indented</span></span>
<span id="cb9-100"><a href="#cb9-100"></a>            <span class="co"># lines.</span></span>
<span id="cb9-101"><a href="#cb9-101"></a>            indented <span class="op">=</span> []</span>
<span id="cb9-102"><a href="#cb9-102"></a>            <span class="co"># While there are still lines left to be indented,  </span></span>
<span id="cb9-103"><a href="#cb9-103"></a>            <span class="cf">while</span> <span class="bu">len</span>(indented) <span class="op">&lt;</span> numLinesToIndent:</span>
<span id="cb9-104"><a href="#cb9-104"></a></span>
<span id="cb9-105"><a href="#cb9-105"></a>                <span class="co"># choose a random line to indent,</span></span>
<span id="cb9-106"><a href="#cb9-106"></a>                lineNumber <span class="op">=</span> random.randint(<span class="dv">1</span>,numGeneratedLines)</span>
<span id="cb9-107"><a href="#cb9-107"></a></span>
<span id="cb9-108"><a href="#cb9-108"></a>                <span class="co"># so long as the line hasn&#39;t already been indented.</span></span>
<span id="cb9-109"><a href="#cb9-109"></a>                <span class="cf">if</span> lineNumber <span class="kw">not</span> <span class="kw">in</span> indented:</span>
<span id="cb9-110"><a href="#cb9-110"></a></span>
<span id="cb9-111"><a href="#cb9-111"></a>                    <span class="co"># Indent the line.</span></span>
<span id="cb9-112"><a href="#cb9-112"></a>                    lines[lineNumber] <span class="op">=</span> <span class="st">&quot; &quot;</span> <span class="op">*</span> indentLevel <span class="op">+</span> lines[lineNumber]</span>
<span id="cb9-113"><a href="#cb9-113"></a></span>
<span id="cb9-114"><a href="#cb9-114"></a>                    <span class="co"># Add it to the list of indented lines.</span></span>
<span id="cb9-115"><a href="#cb9-115"></a>                    indented.append(lineNumber)</span>
<span id="cb9-116"><a href="#cb9-116"></a></span>
<span id="cb9-117"><a href="#cb9-117"></a>        <span class="cf">return</span> lines</span>
<span id="cb9-118"><a href="#cb9-118"></a></span>
<span id="cb9-119"><a href="#cb9-119"></a>    <span class="kw">def</span> show(<span class="va">self</span>, lines, originalCantoNumber):</span>
<span id="cb9-120"><a href="#cb9-120"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb9-121"><a href="#cb9-121"></a><span class="co">        Displays the generated canto.</span></span>
<span id="cb9-122"><a href="#cb9-122"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb9-123"><a href="#cb9-123"></a>        <span class="bu">print</span>(<span class="st">&#39;Canto &#39;</span> <span class="op">+</span> <span class="bu">str</span>(originalCantoNumber) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb9-124"><a href="#cb9-124"></a>        <span class="cf">for</span> line <span class="kw">in</span> lines:</span>
<span id="cb9-125"><a href="#cb9-125"></a></span>
<span id="cb9-126"><a href="#cb9-126"></a>            <span class="co"># Get the line number. Add 1, since Python starts counting</span></span>
<span id="cb9-127"><a href="#cb9-127"></a>            <span class="co"># at zero.</span></span>
<span id="cb9-128"><a href="#cb9-128"></a>            i <span class="op">=</span> lines.index(line) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb9-129"><a href="#cb9-129"></a></span>
<span id="cb9-130"><a href="#cb9-130"></a>            <span class="co"># Add line numbers for lines divisible by 5,</span></span>
<span id="cb9-131"><a href="#cb9-131"></a>            <span class="co"># so that the results will be easier to discuss.</span></span>
<span id="cb9-132"><a href="#cb9-132"></a>            <span class="cf">if</span> i <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb9-133"><a href="#cb9-133"></a>                <span class="bu">print</span>(<span class="bu">str</span>(i) <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> line)</span>
<span id="cb9-134"><a href="#cb9-134"></a>            <span class="cf">else</span>:</span>
<span id="cb9-135"><a href="#cb9-135"></a>                <span class="bu">print</span>(<span class="st">&#39;   &#39;</span> <span class="op">+</span> line)</span></code></pre></div>
<h1 id="canto-i">Canto I</h1>
<p>In Canto I, Pound translates from Book XI of a renaissance Latin translation of <em>The Odyssey</em>. As he describes it, “I picked from the Paris quais a Latin version of the <em>Odyssey</em> by Andreas Divus Justinopolitanus (Parisiis, In officina Christiani Wecheli, MDXXXVIII)” (“Literary Essays,” 259). Roland John posits that he uses this particular translation, “from an obscure Latin version,” in order to “confirm that he is writing an epic. … [and as an] homage to Homer as the maker of Europe’s first epic” (11). There is more to this canto, of course—additional Homeric material, as well as Pound’s bibliographic commentary—but the Divus translation is the bulk of the canto, and so this is a good place to start.</p>
<p>In the <code>CantoI</code> class below, the variable <code>source_divus</code> is populated with the first seventy lines of Divus’s translation, originally transcribed from Kenner’s facsimile in <em>The Pound Era</em> (352), but corrected with <a href="http://bildsuche.digitale-sammlungen.de/index.html?c=viewer&amp;bandnummer=bsb00013847&amp;pimage=00025&amp;v=pdf&amp;nav=&amp;l=en">a copy at the <em>Bayerische StaatsBibliothek</em></a> and Pound’s own transcription (<em>Literary Essays</em> 259). Pound’s transcription expands Divus’s abbreviations and modernizes much of the spelling, but there are still irregularities in the Latin, some of which Pound discusses in “Early Translation of Homer” (ibid. 264). In order to mimic the translation of Divus, the Latin text is machine-translated using an API connected to Google Translate, with the function <code>translateFromLatin</code>. Since Google Translate typically assumes that a word is a proper name if it cannot be found in its dictionaries, and preserves the word as such, this helps to explain the presence of the Latin words that still appear in the generated text below. (Although this could be considered a defect of the translator application, the presence of a few Latin words certainly comes across as Poundian.)</p>
<p>The style of Canto I is alliterative, not unlike Old English verse. John explains that it is a “modified alliterative line similar to that used in [Pound’s] translation of the Early English poem ‘The Seafarer,’ chosen because it is an example of the earliest form of English verse.” William Cookson further identifies this style as “the first example of the overlaying of times and traditions in <em>The Cantos</em>” (4). To achieve this effect, an alliteration function was written.</p>
<p>The alliteration algorithm, <code>alliterate()</code>, possibly the first of its kind, begins by attempting to guess the parts of speech of every word in a line, using the NLTK. From there, it retrieves all synonyms and hyponyms for the words using Princeton University’s WordNet, a thesaurus-like “lexical database” of English words that organizes words into hierarchical relations. These synonyms and hyponyms are then filtered by part of speech, and the function chooses those with the highest numbers of shared first letters. This constructs some veritably alliterative verse, and some surprising lines, as well.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">class</span> CantoI(CantoWriter):</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="co"># Get a copy of the source text, a Latin translation of the Odyssey XI.</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>    source_divus <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;divus2.md&#39;</span>).read()</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a>    <span class="co"># We will need to tell other functions what canto number we&#39;re writing.</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>    originalCantoNum <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a>    <span class="kw">def</span> translateUsingGoslate(<span class="va">self</span>, text):</span>
<span id="cb10-10"><a href="#cb10-10"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">        This is an interface to Google Translate. Of the two translation</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">        algorithms here, this is much faster, but the API provider service</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">        is unreliable, and so we have to have a backup.  </span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>        gs <span class="op">=</span> goslate.Goslate()</span>
<span id="cb10-16"><a href="#cb10-16"></a>        <span class="cf">return</span> gs.translate(text, <span class="st">&#39;eng&#39;</span>)</span>
<span id="cb10-17"><a href="#cb10-17"></a></span>
<span id="cb10-18"><a href="#cb10-18"></a>    <span class="kw">def</span> translateFromLatin(<span class="va">self</span>, text):</span>
<span id="cb10-19"><a href="#cb10-19"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb10-20"><a href="#cb10-20"></a><span class="co">        This is a backup translation service that also uses Google Translate.</span></span>
<span id="cb10-21"><a href="#cb10-21"></a><span class="co">        It&#39;s slower, but more reliable.</span></span>
<span id="cb10-22"><a href="#cb10-22"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb10-23"><a href="#cb10-23"></a>        txt <span class="op">=</span> TextBlob(text)</span>
<span id="cb10-24"><a href="#cb10-24"></a>        <span class="cf">return</span> txt.translate(to<span class="op">=</span><span class="st">&quot;en&quot;</span>).string</span>
<span id="cb10-25"><a href="#cb10-25"></a></span>
<span id="cb10-26"><a href="#cb10-26"></a>    <span class="kw">def</span> alliterate(<span class="va">self</span>, line, includeHyponyms<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb10-27"><a href="#cb10-27"></a></span>
<span id="cb10-28"><a href="#cb10-28"></a>        <span class="co"># First, break up the line into words (tokens).</span></span>
<span id="cb10-29"><a href="#cb10-29"></a>        words <span class="op">=</span> nltk.tokenize.word_tokenize(line)</span>
<span id="cb10-30"><a href="#cb10-30"></a></span>
<span id="cb10-31"><a href="#cb10-31"></a>        <span class="co"># Next, try to find the parts of speech for the words.</span></span>
<span id="cb10-32"><a href="#cb10-32"></a>        pos <span class="op">=</span> nltk.pos_tag(words)</span>
<span id="cb10-33"><a href="#cb10-33"></a></span>
<span id="cb10-34"><a href="#cb10-34"></a>        <span class="co"># Look up all synonyms and hyponyms for the words in WordNet.</span></span>
<span id="cb10-35"><a href="#cb10-35"></a>        syns <span class="op">=</span> [<span class="va">self</span>._getSynonyms(tagword, includeHyponyms) <span class="cf">for</span> tagword <span class="kw">in</span> pos]</span>
<span id="cb10-36"><a href="#cb10-36"></a></span>
<span id="cb10-37"><a href="#cb10-37"></a>        <span class="co"># Make a table of all the first letters of these words.</span></span>
<span id="cb10-38"><a href="#cb10-38"></a>        firstLettersSet <span class="op">=</span> <span class="bu">list</span>(<span class="bu">set</span>([word[<span class="dv">0</span>].lower() <span class="cf">for</span> word <span class="kw">in</span> <span class="bu">sum</span>(syns, [])]))</span>
<span id="cb10-39"><a href="#cb10-39"></a>        synsFirsts <span class="op">=</span> [[word[<span class="dv">0</span>] <span class="cf">for</span> word <span class="kw">in</span> thing] <span class="cf">for</span> thing <span class="kw">in</span> syns]</span>
<span id="cb10-40"><a href="#cb10-40"></a></span>
<span id="cb10-41"><a href="#cb10-41"></a>        <span class="co"># Initialize an associative array of letters for storing</span></span>
<span id="cb10-42"><a href="#cb10-42"></a>        <span class="co"># letter frequencies.</span></span>
<span id="cb10-43"><a href="#cb10-43"></a>        letterDict <span class="op">=</span> {}</span>
<span id="cb10-44"><a href="#cb10-44"></a></span>
<span id="cb10-45"><a href="#cb10-45"></a>        <span class="co"># Iterate through all the letters and check to see if they&#39;re</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>        <span class="co"># in a block. Make an associative array out of the results.</span></span>
<span id="cb10-47"><a href="#cb10-47"></a>        <span class="cf">for</span> letter <span class="kw">in</span> firstLettersSet:</span>
<span id="cb10-48"><a href="#cb10-48"></a></span>
<span id="cb10-49"><a href="#cb10-49"></a>            <span class="co"># Start with the count at zero.</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>            letterDict[letter] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-51"><a href="#cb10-51"></a></span>
<span id="cb10-52"><a href="#cb10-52"></a>            <span class="co"># Iterate through each block.</span></span>
<span id="cb10-53"><a href="#cb10-53"></a>            <span class="cf">for</span> block <span class="kw">in</span> synsFirsts:</span>
<span id="cb10-54"><a href="#cb10-54"></a>                <span class="cf">if</span> letter <span class="kw">in</span> block:</span>
<span id="cb10-55"><a href="#cb10-55"></a>                    <span class="co"># Increment the letter count.</span></span>
<span id="cb10-56"><a href="#cb10-56"></a>                    letterDict[letter] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb10-57"><a href="#cb10-57"></a></span>
<span id="cb10-58"><a href="#cb10-58"></a>        <span class="co"># Find the letter that occurs in the most synonyms.</span></span>
<span id="cb10-59"><a href="#cb10-59"></a>        maxLetter <span class="op">=</span> <span class="bu">max</span>(letterDict, key<span class="op">=</span>letterDict.get)</span>
<span id="cb10-60"><a href="#cb10-60"></a></span>
<span id="cb10-61"><a href="#cb10-61"></a>        <span class="co"># Initialize a new list for the newly-alliterated words.</span></span>
<span id="cb10-62"><a href="#cb10-62"></a>        alliterated <span class="op">=</span> []</span>
<span id="cb10-63"><a href="#cb10-63"></a>        <span class="cf">for</span> word, synList <span class="kw">in</span> <span class="bu">zip</span>(words, syns):</span>
<span id="cb10-64"><a href="#cb10-64"></a>            <span class="cf">if</span> synList <span class="op">==</span> [] <span class="kw">or</span> <span class="bu">len</span>(synList) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb10-65"><a href="#cb10-65"></a>                <span class="co"># Keep all words that were not in the thesaurus,</span></span>
<span id="cb10-66"><a href="#cb10-66"></a>                <span class="co"># or had only one synonym.</span></span>
<span id="cb10-67"><a href="#cb10-67"></a>                alliterated.append(word)</span>
<span id="cb10-68"><a href="#cb10-68"></a>            <span class="cf">else</span>:</span>
<span id="cb10-69"><a href="#cb10-69"></a>                foundone <span class="op">=</span> <span class="va">False</span> <span class="co"># We haven&#39;t found anything yet.</span></span>
<span id="cb10-70"><a href="#cb10-70"></a>                <span class="cf">for</span> syn <span class="kw">in</span> synList: <span class="co"># Search through all synonyms.</span></span>
<span id="cb10-71"><a href="#cb10-71"></a>                    <span class="cf">if</span> syn[<span class="dv">0</span>] <span class="op">==</span> maxLetter: <span class="co"># If it starts with our letter,</span></span>
<span id="cb10-72"><a href="#cb10-72"></a>                        alliterated.append(syn) <span class="co"># go with this one.</span></span>
<span id="cb10-73"><a href="#cb10-73"></a>                        foundone <span class="op">=</span> <span class="va">True</span> <span class="co"># Found one!</span></span>
<span id="cb10-74"><a href="#cb10-74"></a>                        <span class="cf">break</span> <span class="co"># We can stop looking now.</span></span>
<span id="cb10-75"><a href="#cb10-75"></a>                <span class="cf">if</span> <span class="kw">not</span> foundone:</span>
<span id="cb10-76"><a href="#cb10-76"></a>                    <span class="co"># Go with the original word if we didn&#39;t find anything</span></span>
<span id="cb10-77"><a href="#cb10-77"></a>                    alliterated.append(word)</span>
<span id="cb10-78"><a href="#cb10-78"></a>        <span class="co"># Stitch the sentence back together.</span></span>
<span id="cb10-79"><a href="#cb10-79"></a>        <span class="cf">return</span> <span class="va">self</span>._untokenize(alliterated)</span>
<span id="cb10-80"><a href="#cb10-80"></a></span>
<span id="cb10-81"><a href="#cb10-81"></a>    <span class="kw">def</span> write(<span class="va">self</span>, originalCantoNumber<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb10-82"><a href="#cb10-82"></a>        <span class="co">&quot;&quot;&quot;Generate Canto I.&quot;&quot;&quot;</span></span>
<span id="cb10-83"><a href="#cb10-83"></a></span>
<span id="cb10-84"><a href="#cb10-84"></a>        <span class="co"># Translate the source from Latin.</span></span>
<span id="cb10-85"><a href="#cb10-85"></a>        translated <span class="op">=</span> <span class="va">self</span>.translateFromLatin(<span class="va">self</span>.source_divus)</span>
<span id="cb10-86"><a href="#cb10-86"></a></span>
<span id="cb10-87"><a href="#cb10-87"></a>        <span class="co"># Split the result into lines.</span></span>
<span id="cb10-88"><a href="#cb10-88"></a>        translatedLines <span class="op">=</span> translated.split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb10-89"><a href="#cb10-89"></a></span>
<span id="cb10-90"><a href="#cb10-90"></a>        <span class="co"># Alliterate the lines.</span></span>
<span id="cb10-91"><a href="#cb10-91"></a>        alliterated <span class="op">=</span> [<span class="va">self</span>.alliterate(line) <span class="cf">for</span> line <span class="kw">in</span> translatedLines]</span>
<span id="cb10-92"><a href="#cb10-92"></a></span>
<span id="cb10-93"><a href="#cb10-93"></a>        <span class="co"># Format the lines like Canto I, according to statistics</span></span>
<span id="cb10-94"><a href="#cb10-94"></a>        <span class="co"># gathered from CantoReader().</span></span>
<span id="cb10-95"><a href="#cb10-95"></a>        broken <span class="op">=</span> <span class="va">self</span>.formatLines(alliterated, originalCantoNumber)</span>
<span id="cb10-96"><a href="#cb10-96"></a></span>
<span id="cb10-97"><a href="#cb10-97"></a>        <span class="co"># Display the result.</span></span>
<span id="cb10-98"><a href="#cb10-98"></a>        <span class="cf">return</span> <span class="va">self</span>.show(broken, <span class="dv">1</span>)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Instantiate a new copy of the CantoI object defined</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co"># in the class above.</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>c1 <span class="op">=</span> CantoI()</span>
<span id="cb11-4"><a href="#cb11-4"></a></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># Execute the `write()` function defined above.</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>c1.write()</span></code></pre></div>
<pre><code>Canto 1

   Yet, when I came down to the ship, and the sea,
   The vessel was first found in the sea gods,
   And that which was wickedness in the ship, we set and the veils of the black:
   But we did not go inside, taking cues within ourselves
5         As presently as pain, tears pouring Hubert:
   We, however, from the back of the black ship, the prow
   successful reached the bottom of the screen spreading good friend
   Benecomata voiced serious goddess Circe.
   We, however, each of the arms of the transport out in the ship,
10 simply we sat and old pilot diregebat:
   They are spread throughout the whole of this twenty-four hours sails the sea trasientis:
   And he killed time a sun was shadowed all the time on earth,
   But this consists in the territories of the great depths of the ocean:
   There are Cimmeriorum people of the province,
15 Mist and fog covered, nor has it ever had
   Looks bright sun beam,
   Nor when it tends to the starry heaven,
   For neither from the heaven of the earth, when it is turned back on:
   But the dark is dangerous stretches direct men:
20 We then deduced the ship is outside of sheep
   We took ourselves again to the issue of ocean
   , We passed on, so that we came to the place, which he spake, Circe:
   This is a sacred Perimedes Eurylochusque
   Did atomic number 53 have a sharp blade pulling a thigh,
25 The measure of how much elbow pit dug on either side:
   But all around her humble offerings to the dead;
   Multse first, but later with sweet wine:
   Thirdly, again with water, and flour, and white robes, atomic number 53 have mixed for:
   I prayed a passel, but weak heads of the dead:
30 He set out for Ithaca, but the barren woman to bread and butter his ox, which is the best course,
   Sacrificing in their place, filled with good old planks:
           simply privately vowed to sacrifice a sheep Tiresias
   All the black sheep, which are superior to the States:
   After the prayers for the dead nations has precautionibusque
35 I prayed, received a passel of sheep:
   And the blood ran out of the cavity black in color, they are congregataeque
   Cadavres dead souls from snake pit,
   Nymphs iuvensesque endure many things of the elders,
   And tender virgins, who had lately woeful way he disposed and,
40 many of the maimed air lances
   The work force were killed in the war, the bloody weaponry, they,
   Many people who came from elsewhere around the pit else
   With a great shout, but I must pale fear took in fight.
   Now, after spur his comrades say
45 Cattle, which have already been brutally bump off, still in the air,
   Flay their paraphernalia, offering prayers to the gods,
   Gallant to Pluto, and praised Proserpine.
   simply I&#39;m drawing a sharp sword from his thigh,
   See, I did not dead inability heads
50 Blood was most move before I could hear Tiresias:
   simply first semen the Elpenoris spouse:
   You have not yet buried under the world there was a wide,

   We have left the organic structure, in the house of Circe,
55 Infletum and a plea for another urgent task:
   This indeed as iodine am the illusionist, lachrymator And, pitying in my mind,
   And the swift addressed shouting words:
   Elpenor, how have you come under the cloud, cloud;
   Feet than I anticipated being in the black boat?
60 So atomic number 53 said,&#39;But this adult male, to me, and mourned for his answer Him a word:
   Laeritiade noble, wise Ulysses,
   Fate of hurt me bad, and a mass of wine:
   When you lie down, however, in the house of Circe, I will not be perceived by
   atomic number 53 once turned down a ladder going through a long,
65 But I fell against the wall, but to me the neck
   Of the strings is broken, the soul of them that travel down to the pits:
   But now, I pray, not in the presence of those who were to come in the time to come;
   Through his wife, and the father, who was brought up a small existing,
   Telemachumque the only talker in the houses you left tail.
70 I know that this house is going to the pits
           Aeaeam imellens benefabricatam island in the boat:</code></pre>
<p>A brief comparison of this generated Canto with Pound’s original might be useful here. Pound’s canto begins with the line “and then went down to the ship” (<em>A Draft of XXX Cantos</em>, 3); the generated canto begins “yet, when I came down to the ship, and the sea”—Pound’s version exhibits much more economy of language, with 30% fewer words in the line. The character represented by “I” in the generated version is removed in Pound’s, which might serve to blur who is meant by the “I”—is it Odysseus? Pound? (This economy of speech is something we will try to correct in the generation of Canto II, using the <code>meonymize</code> function.) While line 3 in Pound is alliterated with “s” words—“we set up mast and sail on that swart ship,” the generator apparently alliterates on “w” words: “and that which was wickedness in the ship, we set.” In line 5 in this generated version, we see, mysteriously, “tears pouring Hubert” in place of Pound’s “heavy with weeping.” (Who is this Hubert? One can only suspect that this is either a translation error or an unusually distant hyponym that the <code>alliterate</code> function is inserting.) In at least one case, the <code>alliterate</code> function is alliterating even more than Pound does—Pound’s “with glitter of sun-rays” is rendered here as “looks bright sun beam” (line 16).</p>
<p>In some cases, the function alliterates until the line makes no sense—line 24, for instance, reads “did atomic number 53 have a sharp blade pulling a thigh,” which corresponds to Pound’s line “drawing sword from my hip.” The alliteration algorithm, trying to alliterate with words beginning with “a,” is looking for synonyms for the word “I.” Not realizing that it is a personal pronoun, it guesses that the word is the chemical symbol for iodine, and suggests the possible synonym “atomic number 53,” which starts with the letter “a.” To fix this issue, we will try to find synonyms for Canto II with a word sense disambiguation algorithm in place.</p>
<h2 id="canto-ii">Canto II</h2>
<p>Canto II presents a very different challenge than Canto I. As John Childs puts it, “Since Canto 1 is largely given over to discourse in its retelling of a portion of the <em>Odyssey</em>, the devices of imagism are largely absent, and, in fact, <em>The Cantos</em> seem to alternate between the two poles of Imagist”lyricism" and discursive “historicism”; Cantos 1 and 2 are representative of such alternation" (44). One of the characteristic features of this second imagist mode of Canto II, Childs argues, is metonymy. In fact, he continues, it is the use of metonymy that distinguishes imagism from symbolism. The algorithm that will be used to generate Canto II, then, will apply metonymic principles to a mix of Pound’s source materials.</p>
<p>Broadly, metonymy is, in M.H. Abrams’s definition, a process by which “the literal term for one thing is applied to another with which it has become closely associated because of a current relation in common experience” (120). A common example is “the crown” as a term meaning a king. One type of metonymy is a synechdoche, where “a part of something is used to signify the whole, or (more rarely) the whole is used to signify a part” (ibid.). Using the Princeton WordNet, we might be able to emulate metonymy to a small degree by navigating its hierarchy of word relations. The NLTK WordNet API provides functions for finding meronyms for words, for instance. A meronym is a word that is a component of another word, and WordNet charts both “part” and “substance” meronyms. Here are some example meronyms for the word “tree”:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>wn.synset(<span class="st">&#39;tree.n.01&#39;</span>).part_meronyms()</span></code></pre></div>
<pre><code>[Synset(&#39;burl.n.02&#39;),
 Synset(&#39;crown.n.07&#39;),
 Synset(&#39;limb.n.02&#39;),
 Synset(&#39;stump.n.01&#39;),
 Synset(&#39;trunk.n.01&#39;)]</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>wn.synset(<span class="st">&#39;tree.n.01&#39;</span>).substance_meronyms()</span></code></pre></div>
<pre><code>[Synset(&#39;heartwood.n.01&#39;), Synset(&#39;sapwood.n.01&#39;)]</code></pre>
<p>The <code>metonymy</code> function below starts by determining the part of speech of a word, attempts to disambiguate its sense using the Lesk algorithm for word sense disambiguation (WSD), and with the resulting word sense or “synset,” searches for meronyms. If none are found, it will try searching for other ways to convert the line into a more metonymic line.</p>
<p>Another way that metonymy functions is, as David Lodge explains, as a “condensation of contexture,” effected by a “transformation of a notional sentence … by means of deletion of portions of the syntagm” (quoted in Childs 36). A simple instance of this deletion is the removal of the word “like” that can transform a simile into a (metonymic) metaphor. Pound’s affinities for the economy of words of ancient Chinese poetry, coupled with his terse haiku-like experiments, makes deletion an obvious choice for Poundian generative poetics. In fact, in an early essay on the Chinese poem “The Jewel-Stairs Grievance,” he explains that despite the fact that he has “never found any occidental who could ‘make much’ of that poem,” still “everything is there, not merely by ‘suggestion’ but by a sort of mathematical process of reduction” (<em>Early Writings</em>, “Chinese Poetry”). What we shall be attempting here is literally a mathematical process of reduction.</p>
<p>Rather than delete words at random, however, we will design an informed algorithm for metonymic deletion. Citing William E. Baker, Childs argues that one of the syntactic modes of this metonymic deletion is “nominalization,” that deletion “gives primary emphasis to the noun, and that the great majority of fragments are classified as such because they contain a noun or noun phrase which lacks a finite verb to provide grammatical ‘sense’ to the structure” (quoted in Childs, 58-9). With this in mind, the function <code>metonymize</code> will call the function <code>deleteVerbs</code> in order to delete a small proportion of verbs in each line.</p>
<p>The algorithm below will start with eight of Pound’s sources, taken from Carroll Terrell’s <em>Companion to the Cantos</em>. These include selections from Ovid’s <em>Metamorphoses</em> books III and X, Euripedes’s <em>Bacchae</em>, Homer’s hymn to Dionysos, and selections from the <em>Odyssey</em> and <em>Iliad</em>. The Ovid translations are those of Brookes More, and the Homer translations are those of Samuel Butler; both were downloaded from <a href="http://www.perseus.tufts.edu/hopper/"><em>Perseus</em></a>. The text of Robert Browning’s <em>Sordello</em> was downloaded from Wikisource, and the Mabinogion was downloaded from Project Gutenberg. These sources are “mixed” together with the function <code>sourceMix</code>, which interpolates the source texts every X number of lines. That mix is then “metonymized” with the <code>metonymize</code> function previously described. From there, line breaks are added, and the text is formatted with stanza breaks and indentation to resemble the original Canto II.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">class</span> CantoII(CantoWriter):</span>
<span id="cb17-2"><a href="#cb17-2"></a>    <span class="co"># Gather text files of some of Pound&#39;s sources for Canto II.  </span></span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a>                    <span class="co"># Robert Browning&#39;s epic poem _Sordello_</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>    sourceFiles <span class="op">=</span> [<span class="st">&#39;sordello.txt&#39;</span>,  </span>
<span id="cb17-6"><a href="#cb17-6"></a></span>
<span id="cb17-7"><a href="#cb17-7"></a>                    <span class="co"># Ovid&#39;s Metamorphoses, III and X</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>                   <span class="st">&#39;ovid3.txt&#39;</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>                   <span class="st">&#39;ovid10.txt&#39;</span>,</span>
<span id="cb17-10"><a href="#cb17-10"></a></span>
<span id="cb17-11"><a href="#cb17-11"></a>                   <span class="co"># The Odyssey XI (an English translation this time)</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>                   <span class="st">&#39;odyssey-xi.txt&#39;</span>,</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a>                   <span class="co"># The Mabinogion</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>                   <span class="st">&#39;mabinogion.txt&#39;</span>,</span>
<span id="cb17-16"><a href="#cb17-16"></a></span>
<span id="cb17-17"><a href="#cb17-17"></a>                   <span class="co"># The Illiad III</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>                   <span class="st">&#39;iliad-iii.txt&#39;</span>,</span>
<span id="cb17-19"><a href="#cb17-19"></a></span>
<span id="cb17-20"><a href="#cb17-20"></a>                   <span class="co"># Homer&#39;s Hymn to Bacchus</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>                   <span class="st">&#39;homeric-hymn7.txt&#39;</span>,</span>
<span id="cb17-22"><a href="#cb17-22"></a></span>
<span id="cb17-23"><a href="#cb17-23"></a>                   <span class="co"># Euripedes&#39;s _Bacchae_</span></span>
<span id="cb17-24"><a href="#cb17-24"></a>                   <span class="st">&#39;euripedes.txt&#39;</span>]</span>
<span id="cb17-25"><a href="#cb17-25"></a></span>
<span id="cb17-26"><a href="#cb17-26"></a>    <span class="co">&quot;&quot;&quot; An associative array with the file names and file contents. &quot;&quot;&quot;</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>    sourceTexts <span class="op">=</span> {filename: <span class="bu">open</span>(<span class="st">&#39;II/&#39;</span><span class="op">+</span>filename).read().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>) <span class="cf">for</span> filename <span class="kw">in</span> sourceFiles}</span>
<span id="cb17-28"><a href="#cb17-28"></a></span>
<span id="cb17-29"><a href="#cb17-29"></a>    <span class="kw">def</span> reloadSourceTexts(<span class="va">self</span>):</span>
<span id="cb17-30"><a href="#cb17-30"></a>        <span class="co">&quot;&quot;&quot; Reload the source files when necessary. &quot;&quot;&quot;</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>        <span class="va">self</span>.sourceTexts <span class="op">=</span> {filename: <span class="bu">open</span>(<span class="st">&#39;II/&#39;</span><span class="op">+</span>filename).read().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>) <span class="cf">for</span> filename <span class="kw">in</span> <span class="va">self</span>.sourceFiles}</span>
<span id="cb17-32"><a href="#cb17-32"></a></span>
<span id="cb17-33"><a href="#cb17-33"></a>    <span class="at">@property</span></span>
<span id="cb17-34"><a href="#cb17-34"></a>    <span class="kw">def</span> sourceMix(<span class="va">self</span>, chunkSize<span class="op">=</span><span class="dv">2</span>):</span>
<span id="cb17-35"><a href="#cb17-35"></a>        <span class="co"># Get a fresh copy of the source texts, in case anything has changed.</span></span>
<span id="cb17-36"><a href="#cb17-36"></a>        <span class="va">self</span>.reloadSourceTexts()</span>
<span id="cb17-37"><a href="#cb17-37"></a>        <span class="co"># Initialize a new list to hold the mixed lines.</span></span>
<span id="cb17-38"><a href="#cb17-38"></a>        sourceMixLines <span class="op">=</span> []</span>
<span id="cb17-39"><a href="#cb17-39"></a>        <span class="co"># Set a flag so that we know when to stop.</span></span>
<span id="cb17-40"><a href="#cb17-40"></a>        go <span class="op">=</span> <span class="va">True</span></span>
<span id="cb17-41"><a href="#cb17-41"></a>        <span class="co"># Keep going so long as this flag is True.</span></span>
<span id="cb17-42"><a href="#cb17-42"></a>        <span class="cf">while</span> go:</span>
<span id="cb17-43"><a href="#cb17-43"></a>            <span class="co"># Iterate through all the source texts,</span></span>
<span id="cb17-44"><a href="#cb17-44"></a>            <span class="cf">for</span> source <span class="kw">in</span> <span class="va">self</span>.sourceTexts.values():</span>
<span id="cb17-45"><a href="#cb17-45"></a>                <span class="co"># so long as there&#39;s something left to iterate through.</span></span>
<span id="cb17-46"><a href="#cb17-46"></a>                <span class="cf">if</span> <span class="bu">len</span>(source) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb17-47"><a href="#cb17-47"></a>                    <span class="co"># Get the first X lines</span></span>
<span id="cb17-48"><a href="#cb17-48"></a>                    <span class="cf">for</span> line <span class="kw">in</span> source[<span class="dv">0</span>:chunkSize]:</span>
<span id="cb17-49"><a href="#cb17-49"></a>                        <span class="co"># (as long as the line isn&#39;t empty),</span></span>
<span id="cb17-50"><a href="#cb17-50"></a>                        <span class="cf">if</span> line <span class="op">!=</span> <span class="st">&#39;&#39;</span>:</span>
<span id="cb17-51"><a href="#cb17-51"></a>                            <span class="co"># and add it to our new list.</span></span>
<span id="cb17-52"><a href="#cb17-52"></a>                            sourceMixLines.append(line)</span>
<span id="cb17-53"><a href="#cb17-53"></a>                    <span class="co"># Now delete those lines from the source.</span></span>
<span id="cb17-54"><a href="#cb17-54"></a>                    <span class="kw">del</span> source[<span class="dv">0</span>:chunkSize]</span>
<span id="cb17-55"><a href="#cb17-55"></a>                <span class="cf">else</span>:</span>
<span id="cb17-56"><a href="#cb17-56"></a>                    <span class="co"># If the source empty, we can stop now.</span></span>
<span id="cb17-57"><a href="#cb17-57"></a>                    go <span class="op">=</span> <span class="va">False</span> <span class="co"># Stop</span></span>
<span id="cb17-58"><a href="#cb17-58"></a>        <span class="cf">return</span> sourceMixLines</span>
<span id="cb17-59"><a href="#cb17-59"></a></span>
<span id="cb17-60"><a href="#cb17-60"></a>    <span class="kw">def</span> _translatePOS2(<span class="va">self</span>, pos):</span>
<span id="cb17-61"><a href="#cb17-61"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb17-62"><a href="#cb17-62"></a><span class="co">        The Lesk algorithm used in word sense disambiguation uses the abbreviations</span></span>
<span id="cb17-63"><a href="#cb17-63"></a><span class="co">        &#39;a&#39;, &#39;n&#39;, and &#39;v&#39; for adjectives, nouns, and verbs, respectively, but</span></span>
<span id="cb17-64"><a href="#cb17-64"></a><span class="co">        the POS tagger uses different abbreviations. This function translates one</span></span>
<span id="cb17-65"><a href="#cb17-65"></a><span class="co">        to the other.</span></span>
<span id="cb17-66"><a href="#cb17-66"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb17-67"><a href="#cb17-67"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;J&#39;</span>:</span>
<span id="cb17-68"><a href="#cb17-68"></a>            <span class="cf">return</span> <span class="st">&#39;a&#39;</span></span>
<span id="cb17-69"><a href="#cb17-69"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;V&#39;</span>:</span>
<span id="cb17-70"><a href="#cb17-70"></a>            <span class="cf">return</span> <span class="st">&#39;v&#39;</span></span>
<span id="cb17-71"><a href="#cb17-71"></a>        <span class="cf">if</span> pos[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;N&#39;</span>:</span>
<span id="cb17-72"><a href="#cb17-72"></a>            <span class="cf">return</span> <span class="st">&#39;n&#39;</span></span>
<span id="cb17-73"><a href="#cb17-73"></a>        <span class="cf">else</span>:</span>
<span id="cb17-74"><a href="#cb17-74"></a>            <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb17-75"><a href="#cb17-75"></a></span>
<span id="cb17-76"><a href="#cb17-76"></a>    <span class="kw">def</span> _getLineSynsets(<span class="va">self</span>, tokens):</span>
<span id="cb17-77"><a href="#cb17-77"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb17-78"><a href="#cb17-78"></a><span class="co">        Tries to detect the senses of the words by their context.</span></span>
<span id="cb17-79"><a href="#cb17-79"></a><span class="co">        It uses the Lesk algorithm to try to guess at the sense of the word</span></span>
<span id="cb17-80"><a href="#cb17-80"></a><span class="co">        being used, by the word&#39;s lexical similarity (thesaurus distance) to</span></span>
<span id="cb17-81"><a href="#cb17-81"></a><span class="co">        other words in the line.</span></span>
<span id="cb17-82"><a href="#cb17-82"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb17-83"><a href="#cb17-83"></a>        <span class="co"># Try to detect the parts of speech first.</span></span>
<span id="cb17-84"><a href="#cb17-84"></a>        pos <span class="op">=</span> nltk.pos_tag(tokens)</span>
<span id="cb17-85"><a href="#cb17-85"></a>        <span class="co"># Don&#39;t try to look up frequently used words like &quot;a,&quot; &quot;an,&quot; and &quot;the.&quot;</span></span>
<span id="cb17-86"><a href="#cb17-86"></a>        stop <span class="op">=</span> stopwords.words(<span class="st">&#39;english&#39;</span>)</span>
<span id="cb17-87"><a href="#cb17-87"></a>        <span class="co"># Next, let&#39;s do some word sense disambiguation on the line to make sure that we&#39;re dealing smartly with each line.</span></span>
<span id="cb17-88"><a href="#cb17-88"></a>        synsets <span class="op">=</span> [nltk.wsd.lesk(tokens, word[<span class="dv">0</span>], <span class="va">self</span>._translatePOS2(word[<span class="dv">1</span>])) <span class="cf">if</span> word[<span class="dv">0</span>] <span class="kw">not</span> <span class="kw">in</span> stop <span class="cf">else</span> <span class="va">None</span> <span class="cf">for</span> word <span class="kw">in</span> pos]</span>
<span id="cb17-89"><a href="#cb17-89"></a>        <span class="cf">return</span> synsets</span>
<span id="cb17-90"><a href="#cb17-90"></a></span>
<span id="cb17-91"><a href="#cb17-91"></a>    <span class="kw">def</span> _getFirstMeronym(<span class="va">self</span>, synset):</span>
<span id="cb17-92"><a href="#cb17-92"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb17-93"><a href="#cb17-93"></a><span class="co">        This is a helper function to get the first part- or</span></span>
<span id="cb17-94"><a href="#cb17-94"></a><span class="co">        substance-meronym for a given sense.</span></span>
<span id="cb17-95"><a href="#cb17-95"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb17-96"><a href="#cb17-96"></a>        pm <span class="op">=</span> synset.part_meronyms()</span>
<span id="cb17-97"><a href="#cb17-97"></a>        sm <span class="op">=</span> synset.substance_meronyms()</span>
<span id="cb17-98"><a href="#cb17-98"></a>        <span class="cf">if</span> <span class="bu">len</span>(pm) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb17-99"><a href="#cb17-99"></a>            <span class="cf">return</span> pm[<span class="dv">0</span>].lemma_names()[<span class="dv">0</span>]</span>
<span id="cb17-100"><a href="#cb17-100"></a>        <span class="cf">elif</span> <span class="bu">len</span>(sm) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb17-101"><a href="#cb17-101"></a>            <span class="cf">return</span> sm[<span class="dv">0</span>].lemma_names()[<span class="dv">0</span>]</span>
<span id="cb17-102"><a href="#cb17-102"></a>        <span class="cf">else</span>:</span>
<span id="cb17-103"><a href="#cb17-103"></a>            <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb17-104"><a href="#cb17-104"></a></span>
<span id="cb17-105"><a href="#cb17-105"></a>    <span class="kw">def</span> _getFirstHyponym(<span class="va">self</span>, synset):</span>
<span id="cb17-106"><a href="#cb17-106"></a>        <span class="co">&quot;&quot;&quot; Gets the first hyponym for a synset. &quot;&quot;&quot;</span></span>
<span id="cb17-107"><a href="#cb17-107"></a>        hn <span class="op">=</span> synset.hyponyms()</span>
<span id="cb17-108"><a href="#cb17-108"></a>        <span class="cf">if</span> <span class="bu">len</span>(hn) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb17-109"><a href="#cb17-109"></a>            <span class="cf">return</span> hn[<span class="dv">0</span>].lemma_names()[<span class="dv">0</span>]</span>
<span id="cb17-110"><a href="#cb17-110"></a></span>
<span id="cb17-111"><a href="#cb17-111"></a>    <span class="kw">def</span> _deleteVerbs(<span class="va">self</span>, words, synsets):</span>
<span id="cb17-112"><a href="#cb17-112"></a>        <span class="co">&quot;&quot;&quot; Deletes verbs in a line, about half the time.&quot;&quot;&quot;</span></span>
<span id="cb17-113"><a href="#cb17-113"></a>        <span class="cf">for</span> word, synset <span class="kw">in</span> <span class="bu">zip</span>(words, synsets):</span>
<span id="cb17-114"><a href="#cb17-114"></a>            <span class="co"># Provided the synset exists,</span></span>
<span id="cb17-115"><a href="#cb17-115"></a>            newSynsets <span class="op">=</span> []</span>
<span id="cb17-116"><a href="#cb17-116"></a>            newWords <span class="op">=</span> []</span>
<span id="cb17-117"><a href="#cb17-117"></a>            <span class="cf">if</span> synset <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb17-118"><a href="#cb17-118"></a>                <span class="co"># and if the part of speech is a verb,</span></span>
<span id="cb17-119"><a href="#cb17-119"></a>                <span class="cf">if</span> synset.pos() <span class="op">==</span> <span class="st">&#39;v&#39;</span>:</span>
<span id="cb17-120"><a href="#cb17-120"></a>                    <span class="co"># (only do this about half the time),</span></span>
<span id="cb17-121"><a href="#cb17-121"></a>                    <span class="cf">if</span> random.random() <span class="op">&gt;</span> <span class="fl">0.5</span>:</span>
<span id="cb17-122"><a href="#cb17-122"></a>                        <span class="co"># remove it from the list of synsets,</span></span>
<span id="cb17-123"><a href="#cb17-123"></a>                        <span class="cf">for</span> item <span class="kw">in</span> synsets:</span>
<span id="cb17-124"><a href="#cb17-124"></a>                            <span class="cf">if</span> item <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> item <span class="kw">is</span> <span class="kw">not</span> synset:</span>
<span id="cb17-125"><a href="#cb17-125"></a>                                newSynsets.append(item)</span>
<span id="cb17-126"><a href="#cb17-126"></a>                        <span class="cf">for</span> item <span class="kw">in</span> words:</span>
<span id="cb17-127"><a href="#cb17-127"></a>                            <span class="cf">if</span> item <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> item <span class="kw">is</span> <span class="kw">not</span> word:</span>
<span id="cb17-128"><a href="#cb17-128"></a>                                newWords.append(item)</span>
<span id="cb17-129"><a href="#cb17-129"></a>                        words, synsets <span class="op">=</span> newWords, newSynsets</span>
<span id="cb17-130"><a href="#cb17-130"></a>                        <span class="co"># and remove it from the word list.</span></span>
<span id="cb17-131"><a href="#cb17-131"></a>        <span class="cf">return</span> words, synsets  </span>
<span id="cb17-132"><a href="#cb17-132"></a></span>
<span id="cb17-133"><a href="#cb17-133"></a>    <span class="kw">def</span> metonymize(<span class="va">self</span>, line):</span>
<span id="cb17-134"><a href="#cb17-134"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb17-135"><a href="#cb17-135"></a><span class="co">        This looks through every word in a line, and tries to find a</span></span>
<span id="cb17-136"><a href="#cb17-136"></a><span class="co">        meronym for it. If it can&#39;t find a meronym, it substitutes a hyponym.</span></span>
<span id="cb17-137"><a href="#cb17-137"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb17-138"><a href="#cb17-138"></a>        words <span class="op">=</span> nltk.tokenize.word_tokenize(line)</span>
<span id="cb17-139"><a href="#cb17-139"></a>        synsets <span class="op">=</span> <span class="va">self</span>._getLineSynsets(words)</span>
<span id="cb17-140"><a href="#cb17-140"></a>        <span class="cf">if</span> synsets <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> words <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb17-141"><a href="#cb17-141"></a>            words, synsets <span class="op">=</span> <span class="va">self</span>._deleteVerbs(words, synsets)</span>
<span id="cb17-142"><a href="#cb17-142"></a>        <span class="co"># Let&#39;s first look for part meronyms.</span></span>
<span id="cb17-143"><a href="#cb17-143"></a>        newLine <span class="op">=</span> []</span>
<span id="cb17-144"><a href="#cb17-144"></a>        <span class="cf">for</span> word, synset <span class="kw">in</span> <span class="bu">zip</span>(words, synsets):</span>
<span id="cb17-145"><a href="#cb17-145"></a>            <span class="cf">if</span> synset <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb17-146"><a href="#cb17-146"></a>                firstMeronym <span class="op">=</span> <span class="va">self</span>._getFirstMeronym(synset)</span>
<span id="cb17-147"><a href="#cb17-147"></a>                firstHyponym <span class="op">=</span> <span class="va">self</span>._getFirstHyponym(synset)</span>
<span id="cb17-148"><a href="#cb17-148"></a>                <span class="cf">if</span> firstMeronym <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb17-149"><a href="#cb17-149"></a>                    newLine.append(firstMeronym)</span>
<span id="cb17-150"><a href="#cb17-150"></a>                <span class="cf">elif</span> firstHyponym <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb17-151"><a href="#cb17-151"></a>                    newLine.append(firstHyponym)</span>
<span id="cb17-152"><a href="#cb17-152"></a>                <span class="cf">else</span>:</span>
<span id="cb17-153"><a href="#cb17-153"></a>                    newLine.append(word)</span>
<span id="cb17-154"><a href="#cb17-154"></a>            <span class="cf">else</span>:</span>
<span id="cb17-155"><a href="#cb17-155"></a>                newLine.append(word)</span>
<span id="cb17-156"><a href="#cb17-156"></a>        <span class="cf">return</span> <span class="va">self</span>._untokenize(newLine)</span>
<span id="cb17-157"><a href="#cb17-157"></a></span>
<span id="cb17-158"><a href="#cb17-158"></a>    <span class="kw">def</span> write(<span class="va">self</span>):</span>
<span id="cb17-159"><a href="#cb17-159"></a>        originalCanto <span class="op">=</span> CantoReader(<span class="dv">2</span>)</span>
<span id="cb17-160"><a href="#cb17-160"></a>        numLines <span class="op">=</span> originalCanto.numLines</span>
<span id="cb17-161"><a href="#cb17-161"></a>        <span class="co"># Get the mixed sources from `sourceMix` above.</span></span>
<span id="cb17-162"><a href="#cb17-162"></a>        mix <span class="op">=</span> <span class="va">self</span>.sourceMix[:numLines]</span>
<span id="cb17-163"><a href="#cb17-163"></a>        metonymized <span class="op">=</span> <span class="st">&quot; &quot;</span>.join([<span class="va">self</span>.metonymize(line) <span class="cf">for</span> line <span class="kw">in</span> mix])</span>
<span id="cb17-164"><a href="#cb17-164"></a>        wrapped <span class="op">=</span> textwrap.wrap(metonymized, <span class="dv">50</span>)</span>
<span id="cb17-165"><a href="#cb17-165"></a>        formatted <span class="op">=</span> <span class="va">self</span>.formatLines(wrapped, <span class="dv">2</span>)</span>
<span id="cb17-166"><a href="#cb17-166"></a>        <span class="va">self</span>.show(formatted, <span class="dv">2</span>)</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>c2 <span class="op">=</span> CantoII()</span>
<span id="cb18-2"><a href="#cb18-2"></a>c2.write()</span></code></pre></div>
<pre><code>Canto 2

   When amaze; Who will rehear anticlimax anticlimax?
   Who me `` Then I Minos son scepter in his hand
           canter in affirmation on the ﻿King Arthur was at
           Caerlleon upon Usk; and one day atrium Narcissus&#39;
5          
           fate, when known throughout the farmstead city
   center cities have it coming When the its own
   aristocrat, the Trojans brevet as a flight I will
   of Dionysus Semele mull monad, the badlands
10 Thebans—Dionysus, whom once Semele, Kadmos&#39;
   aftereffect bring by an ancient crime.—But I am
   weary with unaccustomed corvee; and see! a poplar
           good luck aim the dead poltergeist and round him
5          
15 son of Urien, and Kynon the son of Clydno, and Kai
   the son of Kyner; and Gwenhwyvar and her blind
           Tiresias, —mighty anticipator. Yet Pentheus, bold
   despiser of the Gods, son of Echion, scoffed at of
   dark meat whooping crane or raindrop and midwinter
20 strive them over the airflow branch water the
           beach of the fruitless bay, come across like a
   stripling in the first flush of manhood: his rich,

   mother&#39;s daughter, bore, consign by a lightning-
25         bearing blaze. And having taken a mortal dispersed
   phase instead of a convenient lawn a good pass
   uranium 235 blow hill-top once, despite the bustle
   And slack of audience, Pentapolin Named liquid
   oxygen&#39; the Naked cuff, monad Hades, to understudy
30 his clause[ dikai] upon them. handmaidens at

   crochet by the window. And if it should be said
           that there was a porter at all his compliment,
           and, ball of man catcall the great anticipator,
35 upbraided him his hapless paper loss of of Okeanos
   to bring death and annihilation on the Pygmies,
           airspace dark bristle was luff about him, and on
           his strong hard shoulder academic gown a god&#39;s,
           iodine-125 am here at the Fountain of Youth of
40 Dirke and water iodine-125 gravestone here fall
           back the turf and, pillowing her ego against his
           single out Sordello, catch on murkily about With
           ravage of six long sad hundred month. Only ``
            After him I Jacob&#39;s rod the ghosts of Arthur’s
45         alcazar, there was none. Glewlwyd Gavaelvawr
   eyeful. but the Achaeans countermarch silently, in
   high heart, and to there swiftly head sea bay
5          
   thunder-stricken mother here near the palace, and
50 fag end remnants breast and mingling kisses with
   her words, she told fairytale me Never, —I should
           warn you first, — Of my own default option that he
   had electrocute upon the mountain peak, and he had
   a great bronze clubroom in his hand, unbreakable
55         for guests and strangers, and to receive them with
   honour bearing And column white eighties Tiresias
   of As when bell eyelet wind miserable doom signs
   to one bounce and blaze of Zeus cascade
           everlasting indignity of Hera against Perhaps you
60 may have heard of a swift damsel, who had this, if
   not the worst Yet not the best crutch subpoena
           picometer anticlimax iodine-125 story ever and
   ever. habit Court of Saint James&#39;s channel to the
   Hall or to the presence-chamber, and those to
65         thee, if, light denied, thine eyes, most  upon the
   mountain peak blouse, bad for shepherdess but
   better than bandit for and big board their bay
   exultingly; for they thought him the Kadmos behalf
            oracle mother&#39;s daughter his gravitate much faster
70         than in the forth so By commemorate view, The very
   man as he was wont to do, And `` And I card Tityus
   son of Gaia stretched upon the flat and discourse
   some nine acres of archipelago. couple who average
            to take up their lodging. ritual dancing! The
75 morning will come, and soon the illuminance will
           dawn, when cabochon further the chalk dust from
           under their amphibrach as they made all son of
   article him with around with the cluster-bearing
   leaf shape of the allamanda.  have said whether
80         her swift acceleration or her beauty you though
   iodine-125 might be Aegypiidae on either beaks
   calves&#39; liver In the bare bones of the atrium King
           Arthur canter upon a capital of green rushes, over
           which was circulation a advent known— all hail the
85 new god Bacchus! Either millenary must build a
           column to this Anglo-Saxon deity, or shalt speed
   over the flat. him, and the osier alight far away
   from his hands amphibrach simper evening
           iodine-125 have the Phrygians, the sun-parched
90         flat of the Persians, was more worthy of your
   hallelujah. When this damsel once doom past
   continental divide its hateful surge, car rental
           of all men monad one man them he had fly in the
   face of Zeus’ mistress Leto as she was covering of
95 flame-coloured satin, and a air cushion of red
   satin was under his elbow. be torn asunder; thy
   be, throughout the greenwood birdlime, will infect
            the finger hole with When they were close up with
   one another, Alexander forward anglophile champion
100 aperture. coxswain catch out at once to his
   fellows and call: arch wintry land of the Medes,
   and blessed Arabian Desert, and bridal, never will
   have beggary of benedick, who will only be second
   moment preterit iodine-125, first to last His
105         headway as you preview it, not a live out through
   Panopeus on her way to Pytho. Then Arthur babble,
   “If I thought you would not sanguinary streams;
   and thy life-blood bespatter blotch blots side.
   hard shoulder waterskin panther, blade golden calf
110         all of Asia which charge along the skid of the
   salt head sea with its beautifully-towered cities
             full of your birth trauma. For your best good you
   should avoid the tie birth trauma whit More in the
   secret than yourselves who canter incline to `` I
115 also the stood in disparage me wait course my
   sisters fall iodine-125 have millenary fusarium
   wilt two harpoon with bronze bravest of the
   Achaeans to meet up with him in single bind,
   strong that he is? Not even the well-built</code></pre>
<p>Unlike the generated Canto I, the Canto II generated above bears almost no resemblance to Pound’s original canto, despite the use of many of Pound’s sources. It is not without its moments of surprisingly vivid imagery, however: “dark meat whooping crane or raindrop and midwinter / strive them over the airflow branch water” (l. 19-20). “Branch water” is, somewhat mysteriously, a meronym of “water,” but is surprisingly Poundean in resonance if we recall his “wet black bough” from “In a Station of the Metro.” As in Canto I, the appearance of isotopes (“uranium 235” in line 27, and “iodine 125” in line 39) signals a word sense disambiguation error, despite the use of the Lesk algorithm used in the <code>CantoII</code> class. (A future version of this program might try to filter out all chemical elements from the hyponym tree.) At the very least, it ends <em>in medias res</em>, like Pound’s canto. Where his ends “and…,” this canto ends with the sentence fragment “not even the well-built.”</p>
<h2 id="conclusions">Conclusions</h2>
<p>While the translation-and-alliteration technique of Canto I was reasonably successful, the mix-and-metonymize method of Canto II exhibited mixed success. In both cases, a more sophisticated set of functions would be needed to pass a poetic Turing test. For instance, a future version of this program might not only subsitute hypo/meronyms and delete verbs while metonymizing, but might translate “NN1 of a NN2” syntactic constructions into NN2-NN1 forms that would more closely resemble the Anglo-Saxon metaphoric compound words that Pound uses. It could also further nominalize a line by converting some verbs into nouns by traversing the lexical hierarchy, looking for nouns that are the smallest distance away. Given the time constraints of this project, however, this experiment proved to be a useful exercise in translating literary analysis into an algorithm, or, put differently, using the algorithm as a mode of literary analysis.</p>
<p>It is sometimes sufficient to analyze a poem by saying that it employs certain literary devices, but it is quite another to explain to a computer exactly how those devices work, on the level of the word, or even the letter. The process of analyzing a poem in order to reconstruct it is, in some small ways, a much more involved task than simply analyzing the poem for the sake of analysis. If we are to contend, for instance, that Pound employs metonymy in <em>The Cantos</em>, then to explain it to a computer, we have to specify exactly what we mean by metonymy, and exactly how it functions, lexically and syntactically. In that sense, although this experiment does not discover anything wildly new about Pound’s work, and neither does it succeed in creating a great poem, it nonetheless paves the way for more experiments of this kind.</p>
<h2 id="works-cited">Works Cited</h2>
<p>Bush, Ronald. <em>The Genesis of Ezra Pound’s Cantos</em>. Princeton, N.J.: Princeton University Press, 1989. Print.</p>
<p>Childs, John Steven. <em>Modernist Form : Pound’s Style in the Early Cantos</em>. London: Associated University Press, c1986. Print.</p>
<p>Cookson, William. <em>A Guide to the Cantos of Ezra Pound</em>. London: Anvil Press Poetry, 2001. Print.</p>
<p>John, Roland. <em>A Beginner’s Guide to the Cantos of Ezra Pound</em>. Salzburg, Austria: Institut für Anglistik und Amerikanistik, 1995. Print.</p>
<p>Kearns, George. <em>Guide to Ezra Pound’s Selected Cantos</em>. New Brunswick, N.J.: Rutgers University Press, c1980. Print.</p>
<p>Kenner, Hugh. <em>The Pound Era</em>. Berkeley: University of California Press, 1971. Print.</p>
<p>Korg, Jacob. “The Dialogic Nature of Collage in Pound’s Cantos.” <em>Mosaic: A Journal for the Interdisciplinary Study of Literature</em> 22.2 (1989): 95. Print.</p>
<p>Pound, Ezra. <em>A Draft of XXX Cantos</em>. New York: New Directions, 1940. Print.</p>
<p>——. <em>Early Writings</em>: Poems and Prose. Penguin, 2005. Print.</p>
<p>——. <em>Literary Essays of Ezra Pound</em>. New Directions Publishing, 1968. Print.</p>
<p>Terrell, Carroll Franklin. <em>A Companion to the Cantos of Ezra Pound</em>. Berkeley: University of California Press, c1980-. Print.</p></article></div><footer><div class="container"><div class="columns"><div class="column col-8"><p>I believe in openness. This work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>, unless otherwise stated. All content ©Jonathan Reeve 2020. Hand-coded with love, using exclusively free and open-source software, including <a href="https://github.com/srid/rib">Rib</a> and <a href="https://haskell.org/">Haskell</a>. Hosted on <a href="https://github.com">GitHub</a> and served with <a href="https://netlify.com">Netlify</a>. Icons by Nhor, via <a href="https://thenounproject.com">The Noun Project</a>. <a href="https://www.buymeacoffee.com/vaIVQZH">Buy me a coffee</a> or support me <a href="https://liberapay.com/JonathanReeve/donate">via Libera Pay</a> or <a href="bitcoin:3Qvm1DwzFGk3L1Eb6yeg5Nbc6db8sZUnbK">Bitcoin</a>.</p></div><div class="column col-4"><div class="icons"><a href="http://github.com/JonathanReeve"><svg xmlns="http://www.w3.org/2000/svg" height="3em" viewBox="0 0 448 512" width="3em" fill="#fafafa"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48
48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4
1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2
76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7
17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0
0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0
63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8
11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5
18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3
9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6
388 257.4c.1 73.4-44.7 136.3-110.7
158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9
1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3
1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1
1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8
3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6
1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2
3.7 1.3 1.1 1.5 1.1 3.3 0
4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1
1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6
1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></svg></a><a href="http://twitter.com/j0_0n"><svg xmlns="http://www.w3.org/2000/svg" height="3em" viewBox="0 0 448 512" width="3em" fill="#fafafa"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48
48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2
5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8
15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5
29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447
0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5
24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9
15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></svg></a><a href="mailto:jonathan@jonreeve.com"><svg xmlns="http://www.w3.org/2000/svg" height="3em" viewBox="0 0 448 512" width="3em" fill="#fafafa"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48
48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM178.117
262.104C87.429 196.287 88.353 196.121 64 177.167V152c0-13.255 10.745-24
24-24h272c13.255 0 24 10.745 24 24v25.167c-24.371 18.969-23.434 19.124-114.117
84.938-10.5 7.655-31.392 26.12-45.883
25.894-14.503.218-35.367-18.227-45.883-25.895zM384 217.775V360c0 13.255-10.745
24-24 24H88c-13.255 0-24-10.745-24-24V217.775c13.958 10.794 33.329 25.236 95.303
70.214 14.162 10.341 37.975 32.145 64.694 32.01 26.887.134 51.037-22.041
64.72-32.025 61.958-44.965 81.325-59.406 95.283-70.199z"></svg></a></div></div></div><script async data-goatcounter="https://jonreeve.goatcounter.com/count" src="//gc.zgo.at/count.js"></script><script src="/assets/js/jquery-3.5.1.min.js"></script><script async src="/assets/js/main.js"></script><script async src="https://hypothes.is/embed.js"></script><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></div></footer></body></html>